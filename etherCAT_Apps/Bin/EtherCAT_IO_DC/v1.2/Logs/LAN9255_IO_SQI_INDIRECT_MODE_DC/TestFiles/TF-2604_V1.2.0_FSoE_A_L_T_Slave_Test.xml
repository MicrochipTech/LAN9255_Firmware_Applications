<?xml version="1.0" encoding="UTF-8"?>
<FSoETest xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="EtherCATTestSafety.xsd" Name="Long-Term FSoE Slave State Machine Test" SchemaVersion="1.1.0" TestVersion="1.2.0.0" TestId="9732" TestType="Slave">
	<History>
		<HistoryEntry Editor="O.H." TestVersion="1.0.0.0" Date="2016-01-12"><![CDATA[Long-term test cases separated from TF-2602]]></HistoryEntry>
		<HistoryEntry Editor="O.H." TestVersion="1.0.0.0" Date="2016-01-12"><![CDATA[Where: RUN_DUT_TO_SESSION
Change Request: 2015-12-15-001
Reason: Test function RUN_DUT_TO_SESSION  re-calculates the CRC if it is equal to the old CRC (New = True). The Slave state machine specification defines that this should not be done in this transition (New = False). This only happens in the case that the calculated CRC = 0x0000.
Solution: "Calculate New" parameter of the IS_CRC_CORRECT macro is set to false for every Session transition. Requires FSoE version greater than 1.2.1.0]]></HistoryEntry>
		<HistoryEntry Editor="O.H." TestVersion="1.0.0.1" Date="2016-01-14"><![CDATA[Where: Test
Change Request: --
Reason: Buid version should be incremented for a working group review release.
Solution: Build version incremented]]></HistoryEntry>
		<HistoryEntry Editor="O.H." TestVersion="1.0.1.0" Date="2016-04-19"><![CDATA[Where: #5.45b, #5.45d
Change Request: 2015-11-05-001
Reason: The runtime of these two test cases depends directly on the configured watchdog time.
Solution: Test cases moved from 	TF-2602 to this test file.]]></HistoryEntry>
		<HistoryEntry Editor="O.H." TestVersion="1.0.1.1" Date="2016-05-10"><![CDATA[Where: #5.45b, #5.45d
Change Request: 2015-11-03-003 
Reason: The slave sequence number which has to be reached to ensure the overflow must be lower than 6.
Solution: Compare value changed from 6 to 1.]]></HistoryEntry>
		<HistoryEntry Editor="O.H." TestVersion="1.0.1.2" Date="2016-01-22"><![CDATA[Where: Test
Change Request: --
Reason: Minor version should be incremented for ETG release.
Solution: Minor version incremented]]></HistoryEntry>
		<HistoryEntry Editor="O.H." TestVersion="1.1.0.0" Date="2016-10-20"><![CDATA[Where: #5.45.a
Change Request: 2016-10-20-001
Reason: Test case shall be moved from TF-2602 to allow an individual check of the min Watchdog against the possible cycle time of the test master.
Solution: Test case moved from TF-2602 ]]></HistoryEntry>
		<HistoryEntry Editor="O.H." TestVersion="1.1.1.0" Date="2017-02-22"><![CDATA[Where: Test functions: ResetOK, SESSION_STAY1, SESSION_STAY1, SESSION_STAY1_INCREMENTED_CRC0, SESSION_STAY1_DECREMENTED_CRC1
Change Request: 2017-02-22-001
Reason: The 'SecondFrameSent' functionality was not tested correctly for DuTs with one byte initialisation data length.
Solution: Test functions and cases extended for a correct 'SecondFrameSent' behaviour.]]></HistoryEntry>
		<HistoryEntry Editor="O.H." TestVersion="1.1.2.0" Date="2017-03-02"><![CDATA[Where: Test functions: RESET_OK, Reset_OK, CONN_RESET1, DATA_RESET1, PARA_RESET1
Change Request: 2017-03-02-001
Reason: From the master state machine point of view the OldSlaveCrc contains the CRC0 of the last received slave frame and is used to validate the CRC of the next received slave frame. Until now this variable is only updated by the IS_CRC_CORRECT macro or it is reset (=0) by an action of a specific state of the master state machine. But the variable has to be set every time a new slave frame is received.
Solution: Test functions (named above) changed to set the OldSlaveCrc manually.]]></HistoryEntry>
		<HistoryEntry Editor="O.H." TestVersion="1.1.3.0" Date="2017-04-20"><![CDATA[Where: Test
Change Request: --
Reason: Minor version should be incremented for ETG release.
Solution: Minor version incremented]]></HistoryEntry>
	</History>
	<Comment>Depending on the communication procedure initiated by the FSoE Master (EtherCAT Conformance Test Tool), the FSoE Test Slave can have different states that are tested within this test. Each FSoE state (RESET, SESSION, CONNECTION, PARAMETER and DATA) is tested in its respective Test Group. All possible transitions (e.g. RESET_OK or SESSION_FAIL2) of the FSoE Slave states are checked in the Test Cases of a Test Group. All Test Cases referes to the ETG5100 and ETG7100.3 specifications. This test includes the long-term test senarios. 

Abbreviations:
DuT			Device under Test
SessionId		Randomly generated session ID (initialised with 0 on power-on)
DataCommand		Indicates whether the ProcessData or FailSafeData command is sent in the Data state. Initialised with FailSafeData
BytesToBeSent		If several Safety PDUs have to be sent in the Session, Connection or Parameter state, this variable indicates how many octets are still to be sent
ConnData		ConnData consist of the connection ID and the FSoE Slave Address. Initialised by the safety configurator on power-on according to the configuration
ConnData.ConnId		ConnectionId of the FSoE Connection
SafePara			The SafePara consist of the safety communication parameters and the safety application parameters. Initialised by the safety configurator on power-on according to the configuration
SafePara.Watchdog	FSoE watchdog 
SafeParaSize		Indicates the SafePara length. Initialised by the safety configurator on power-on according to the configuration data
SafeOutputs		Contains the process values of the safety outputs sent to the FSoE Slave. Initialised with FS_VALUE (Fail-safe Data = 0)
SafeInputs		Contains the process values of the safety inputs received by the FSoE Slave. Initialised with FS_VALUE (Fail-safe Data = 0)
CommFaultReason		Indicates the error code in the event of a communication error
</Comment>
	<TestVariables>
		<TestVariable>
			<Name>t_masterFrame(SafeOutputs.Length)</Name>
			<Type>FSoEFrame</Type>
			<Comment>MasterFrame</Comment>
		</TestVariable>
		<TestVariable>
			<Name>t_slaveFrame(SafeInputs.Length)</Name>
			<Type>FSoEFrame</Type>
			<Comment>SlaveFrame</Comment>
		</TestVariable>
		<TestVariable>
			<Name>LastCrc</Name>
			<Type>UInt16</Type>
			<Comment>Die CRC_0 des zuletzt gesendeten Master Frames.</Comment>
		</TestVariable>
		<TestVariable>
			<Name>OldMasterCrc</Name>
			<Type>UInt16</Type>
			<Comment>Die CRC_0 des zuletzt gesendeten Master Frames.</Comment>
		</TestVariable>
		<TestVariable>
			<Name>t_oldSlaveCrc</Name>
			<Type>UInt16</Type>
			<Comment>Die CRC_0 des zuletzt gesendeten Slave Frames.</Comment>
		</TestVariable>
		<TestVariable>
			<Name>t_masterSeqNo</Name>
			<Type>UInt16</Type>
		</TestVariable>
		<TestVariable>
			<Name>t_slaveSeqNo</Name>
			<Type>UInt16</Type>
		</TestVariable>
		<TestVariable>
			<Name>t_masterSessionId</Name>
			<Type>UInt16</Type>
			<Comment>Zufällig generierte Session ID</Comment>
		</TestVariable>
		<TestVariable>
			<Name>t_slaveSessionId</Name>
			<Type>UInt16</Type>
			<Comment>Vom Slave generierte Session ID</Comment>
		</TestVariable>
		<TestVariable>
			<Name>DataCommand</Name>
			<Type>DataCommand</Type>
			<Comment>Erlaubte Werte: FailSafeData, ProcessData</Comment>
		</TestVariable>
		<TestVariable>
			<Name>BytesToBeSent</Name>
			<Type>Int32</Type>
		</TestVariable>
		<TestVariable>
			<Name>crcCorrect</Name>
			<Type>Bool</Type>
			<Comment>Rückgabewert der IsCrcCorrect-Action</Comment>
		</TestVariable>
		<TestVariable>
			<Name>safeDataCorrect</Name>
			<Type>Bool</Type>
			<Comment>Rückgabewert der IsSafeDataCorrect-Action</Comment>
		</TestVariable>
		<TestVariable>
			<Name>t_expWdExpired</Name>
			<Type>Bool</Type>
		</TestVariable>
		<TestVariable>
			<Name>t_wdExpired</Name>
			<Type>Bool</Type>
		</TestVariable>
		<TestVariable>
			<Name>CommFaultReason</Name>
			<Type>Byte</Type>
			<Comment>Zeigt den Fehlercode bei einem Kommunikationsfehler an</Comment>
		</TestVariable>
		<TestVariable>
			<Name>t_index</Name>
			<Type>Int32</Type>
		</TestVariable>
		<TestVariable>
			<Name>t_safeDataIndex</Name>
			<Type>Int32</Type>
		</TestVariable>
		<TestVariable>
			<Name>t_tmpInt32</Name>
			<Type>Int32</Type>
		</TestVariable>
		<TestVariable>
			<Name>t_watchdogExpiredCount</Name>
			<Type>Int32</Type>
			<Comment>Zeigt an wie ob der Master Watchdog ausgelöst hat</Comment>
		</TestVariable>
		<TestVariable>
			<Name>t_connectionId</Name>
			<Type>UInt16</Type>
		</TestVariable>
		<TestVariable>
			<Name>t_slaveAddress</Name>
			<Type>UInt16</Type>
		</TestVariable>
		<TestVariable>
			<Name>t_commFaultReason</Name>
			<Type>String</Type>
		</TestVariable>
		<TestVariable>
			<Name>t_connData[4]</Name>
			<Type>ArrayOfBytes</Type>
		</TestVariable>
		<TestVariable>
			<Name>t_watchdog</Name>
			<Type>UInt16</Type>
		</TestVariable>
		<TestVariable>
			<Name>t_commParaLength</Name>
			<Type>UInt16</Type>
		</TestVariable>
		<TestVariable>
			<Name>t_applicationParaLength</Name>
			<Type>UInt16</Type>
		</TestVariable>
		<TestVariable>
			<Name>t_safeParaSize</Name>
			<Type>UInt16</Type>
		</TestVariable>
		<TestVariable>
			<Name>t_safePara[SafeParaSize]</Name>
			<Type>ArrayOfBytes</Type>
		</TestVariable>
		<TestVariable>
			<Name>t_safeData[SafeDataLength]</Name>
			<Type>ArrayOfBytes</Type>
		</TestVariable>
		<TestVariable>
			<Name>t_initUInt16</Name>
			<Type>UInt16</Type>
		</TestVariable>
		<TestVariable>
			<Name>t_expectedConnId</Name>
			<Type>UInt16</Type>
		</TestVariable>
		<TestVariable>
			<Name>t_resetSessionId</Name>
			<Type>UInt16</Type>
		</TestVariable>
		<TestVariable>
			<Name>t_maxUInt16</Name>
			<Type>UInt16</Type>
		</TestVariable>
		<TestVariable>
			<Name>SecondSessionFrameSent</Name>
			<Type>Bool</Type>
		</TestVariable>
		<TestVariable>
			<Name>t_minUInt16</Name>
			<Type>UInt16</Type>
		</TestVariable>
	</TestVariables>
	<TestFunctions>
		<TestFunction Name="CHECK_RESET_FAIL">
			<TestSteps>
				<TestStep Name="SetTempUint16">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>t_initUInt16</Destination>
								<Source>0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="SetLastCrc">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>t_masterFrame.Crc0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="StartWatchdog">
					<Action>
						<StartWd>
							<Watchdog>t_watchdog</Watchdog>
						</StartWd>
					</Action>
				</TestStep>
				<TestStep Name="ReceiveEvent">
					<Event>
						<ReceiveFrame>t_slaveFrame</ReceiveFrame>
					</Event>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_slaveFrame.FrameData">Slave Frame: {0}</Value>
						</Information>
					</Informations2>
				</TestStep>
				<TestStep Name="CheckWatchdog">
					<Event>
						<WatchdogExpired>
							<SetVariables>
								<SetVariable>
									<Destination>t_wdExpired</Destination>
									<Source>true</Source>
								</SetVariable>
							</SetVariables>
						</WatchdogExpired>
					</Event>
					<Compares>
						<Compare>
							<Condition>
								<Value1>t_wdExpired</Value1>
								<Operator>Equal</Operator>
								<Value2>true</Value2>
							</Condition>
							<Condition>
								<Value1>t_expWdExpired</Value1>
								<Operator>Equal</Operator>
								<Value2>true</Value2>
							</Condition>
							<Statement>
								<SetVariables>
									<SetVariable>
										<Destination>t_wdExpired</Destination>
										<Source>false</Source>
									</SetVariable>
									<SetVariable>
										<Destination>t_expWdExpired</Destination>
										<Source>false</Source>
									</SetVariable>
								</SetVariables>
							</Statement>
							<Statement>
								<Information>
									<Type>Output</Type>
									<Value>Watchdog expired as expected</Value>
								</Information>
							</Statement>
							<Statement>
								<GotoStep>CheckCmdAndCommFaultReasonAndConnId</GotoStep>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_wdExpired</Value1>
								<Operator>Equal</Operator>
								<Value2>true</Value2>
							</Condition>
							<Statement>
								<SetVariables>
									<SetVariable>
										<Destination>t_wdExpired</Destination>
										<Source>false</Source>
									</SetVariable>
								</SetVariables>
							</Statement>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value Param0="ElapsedWD">Watchdog expired! {0} ms </Value>
									<Id>5</Id>
								</Return>
							</Statement>
						</Compare>
					</Compares>
				</TestStep>
				<TestStep Name="CheckCmdAndCommFaultReasonAndConnId">
					<Compares>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>NotEqual</Operator>
								<Value2>Reset</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>NotEqual</Operator>
								<Value2>Session</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>NotEqual</Operator>
								<Value2>Connection</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>NotEqual</Operator>
								<Value2>Parameter</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>NotEqual</Operator>
								<Value2>ProcessData</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>NotEqual</Operator>
								<Value2>FailSafeData</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value Param0="t_slaveFrame.Command">Unknown Cmd received: 0x{0:x2} || expected: 0x2a (Reset) </Value>
									<Id>2</Id>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>NotEqual</Operator>
								<Value2>Reset</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value Param0="t_slaveFrame.Command">Invalid command received: 0x{0:x2} || expected: 0x2a (Reset) </Value>
									<Id>1</Id>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>Equal</Operator>
								<Value2>Reset</Value2>
							</Condition>
							<Statement>
								<Information>
									<Type>Verbose</Type>
									<Value Param0="t_slaveFrame.Command">Expected command received:  0x{0:x2}  (Reset) </Value>
								</Information>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.FrameData[1]</Value1>
								<Operator>NotEqual</Operator>
								<Value2>c_CommFaultReason</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value Param0="t_slaveFrame.FrameData[1]" Param1="c_CommFaultReason">Invalid CommFaultReason received: {0} || expected: {1} </Value>
									<Id>7</Id>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.FrameData[1]</Value1>
								<Operator>Equal</Operator>
								<Value2>c_CommFaultReason</Value2>
							</Condition>
							<Statement>
								<Information>
									<Type>Verbose</Type>
									<Value Param0="t_slaveFrame.FrameData[1]" Param1="c_CommFaultReason">Expected CommFaultReason received: {0}</Value>
								</Information>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.ConnId</Value1>
								<Operator>NotEqual</Operator>
								<Value2>t_initUInt16</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value>Invalid Connection Id received</Value>
									<Id>3</Id>
								</Return>
							</Statement>
						</Compare>
					</Compares>
				</TestStep>
				<TestStep Name="SetVars">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_slaveSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_oldSlaveCrc</Destination>
								<Source>0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="CheckReceivedCrcInReset">
					<Informations1>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_slaveFrame.FrameData" Param1="LastCrc" Param2="t_slaveSeqNo" Param3="t_oldSlaveCrc" Param4="true">IsCrcCorrect(Frame {0}, LastCrc 0x{1:X4}, SeqNo {2}, OldCrc 0x{3:X4}, New {4})</Value>
						</Information>
					</Informations1>
					<Action>
						<IsCrcCorrect ReturnValue="crcCorrect">
							<Frame>t_slaveFrame</Frame>
							<LastCrc>LastCrc</LastCrc>
							<SequenceNo>t_slaveSeqNo</SequenceNo>
							<OldCrc>t_oldSlaveCrc</OldCrc>
							<New>true</New>
						</IsCrcCorrect>
					</Action>
					<Compares>
						<Compare>
							<Condition>
								<Value1>crcCorrect</Value1>
								<Operator>Equal</Operator>
								<Value2>false</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value>Invalid Crc received</Value>
									<Id>4</Id>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>SafeInputs.Length</Value1>
								<Operator>Equal</Operator>
								<Value2>1</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Output</Type>
									<Value/>
								</Return>
							</Statement>
						</Compare>
					</Compares>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value Param0="t_slaveFrame.Crc0">Invalid Crc0 reveived ({0:x})</Value>
							<Id>4</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SetVars">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>c_tmpByte</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_index</Destination>
								<Source>1</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="CheckRemainingSafeData">
					<Compares>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.SafeData[t_index]</Value1>
								<Operator>NotEqual</Operator>
								<Value2>c_tmpByte</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value Param0="t_slaveFrame.SafeData[t_index]" Param1="t_index">SafeData[{1}]  = 0x{0:x2} (has to be unused (=0)) </Value>
									<Id>7</Id>
								</Return>
							</Statement>
						</Compare>
					</Compares>
				</TestStep>
				<TestStep Name="IncrementIndex">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>t_index</Destination>
								<Source>t_index+1</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="CheckIndex">
					<Compares>
						<Compare>
							<Condition>
								<Value1>t_index</Value1>
								<Operator>Lower</Operator>
								<Value2>SafeInputs.Length</Value2>
							</Condition>
							<Statement>
								<GotoStep>CheckRemainingSafeData</GotoStep>
							</Statement>
						</Compare>
					</Compares>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="CHECK_RESET_FAIL5">
			<TestSteps>
				<TestStep Name="SetTempUint16">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>t_initUInt16</Destination>
								<Source>0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="SetLastCrc">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>t_masterFrame.Crc0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="StartWatchdog">
					<Action>
						<StartWd>
							<Watchdog>t_watchdog</Watchdog>
						</StartWd>
					</Action>
				</TestStep>
				<TestStep Name="ReceiveEvent">
					<Event>
						<ReceiveFrame>t_slaveFrame</ReceiveFrame>
					</Event>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_slaveFrame.FrameData">Slave Frame: {0}</Value>
						</Information>
					</Informations2>
				</TestStep>
				<TestStep Name="CheckWatchdog">
					<Event>
						<WatchdogExpired>
							<SetVariables>
								<SetVariable>
									<Destination>t_wdExpired</Destination>
									<Source>true</Source>
								</SetVariable>
							</SetVariables>
						</WatchdogExpired>
					</Event>
					<Compares>
						<Compare>
							<Condition>
								<Value1>t_wdExpired</Value1>
								<Operator>Equal</Operator>
								<Value2>true</Value2>
							</Condition>
							<Condition>
								<Value1>t_expWdExpired</Value1>
								<Operator>Equal</Operator>
								<Value2>true</Value2>
							</Condition>
							<Statement>
								<SetVariables>
									<SetVariable>
										<Destination>t_wdExpired</Destination>
										<Source>false</Source>
									</SetVariable>
									<SetVariable>
										<Destination>t_expWdExpired</Destination>
										<Source>false</Source>
									</SetVariable>
								</SetVariables>
							</Statement>
							<Statement>
								<Information>
									<Type>Output</Type>
									<Value>Watchdog expired as expected</Value>
								</Information>
							</Statement>
							<Statement>
								<GotoStep>CheckCmdAndCommFaultReasonAndConnId</GotoStep>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_wdExpired</Value1>
								<Operator>Equal</Operator>
								<Value2>true</Value2>
							</Condition>
							<Statement>
								<SetVariables>
									<SetVariable>
										<Destination>t_wdExpired</Destination>
										<Source>false</Source>
									</SetVariable>
								</SetVariables>
							</Statement>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value Param0="ElapsedWD">Watchdog expired! {0} ms </Value>
									<Id>5</Id>
								</Return>
							</Statement>
						</Compare>
					</Compares>
				</TestStep>
				<TestStep Name="CheckCmdAndCommFaultReasonAndConnId">
					<Compares>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>NotEqual</Operator>
								<Value2>Reset</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>NotEqual</Operator>
								<Value2>Session</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>NotEqual</Operator>
								<Value2>Connection</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>NotEqual</Operator>
								<Value2>Parameter</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>NotEqual</Operator>
								<Value2>ProcessData</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>NotEqual</Operator>
								<Value2>FailSafeData</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value Param0="t_slaveFrame.Command">Unknown Cmd received: 0x{0:x2} || expected: 0x2a (Reset) </Value>
									<Id>2</Id>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>NotEqual</Operator>
								<Value2>Reset</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value Param0="t_slaveFrame.Command">Invalid command received: 0x{0:x2} || expected: 0x2a (Reset) </Value>
									<Id>1</Id>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>Equal</Operator>
								<Value2>Reset</Value2>
							</Condition>
							<Statement>
								<Information>
									<Type>Verbose</Type>
									<Value Param0="t_slaveFrame.Command">Expected command received:  0x{0:x2}  (Reset) </Value>
								</Information>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.ConnId</Value1>
								<Operator>NotEqual</Operator>
								<Value2>t_initUInt16</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value>Invalid Connection Id received</Value>
									<Id>3</Id>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.FrameData[1]</Value1>
								<Operator>Equal</Operator>
								<Value2>INVALID_CMD</Value2>
							</Condition>
							<Statement>
								<Information>
									<Type>Verbose</Type>
									<Value Param0="t_slaveFrame.FrameData[1]">Expected CommFaultReason received: {0} (INVALID_CMD)</Value>
								</Information>
							</Statement>
							<Statement>
								<GotoStep>SetVars</GotoStep>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.FrameData[1]</Value1>
								<Operator>Equal</Operator>
								<Value2>INVALID_CRC</Value2>
							</Condition>
							<Statement>
								<Information>
									<Type>Verbose</Type>
									<Value Param0="t_slaveFrame.FrameData[1]">Expected CommFaultReason received: {0} (INVALID_CRC)</Value>
								</Information>
							</Statement>
							<Statement>
								<GotoStep>SetVars</GotoStep>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>0</Value1>
								<Operator>Equal</Operator>
								<Value2>0</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value Param0="t_slaveFrame.FrameData[1]">Invalid CommFaultReason received: {0} || expected: INVALID_CMD or INVALID_CRC</Value>
									<Id>7</Id>
								</Return>
							</Statement>
						</Compare>
					</Compares>
				</TestStep>
				<TestStep Name="SetVars">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_slaveSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_oldSlaveCrc</Destination>
								<Source>0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="CheckReceivedCrcInReset">
					<Informations1>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_slaveFrame.FrameData" Param1="LastCrc" Param2="t_slaveSeqNo" Param3="t_oldSlaveCrc" Param4="true">IsCrcCorrect(Frame {0}, LastCrc 0x{1:X4}, SeqNo {2}, OldCrc 0x{3:X4}, New {4})</Value>
						</Information>
					</Informations1>
					<Action>
						<IsCrcCorrect ReturnValue="crcCorrect">
							<Frame>t_slaveFrame</Frame>
							<LastCrc>LastCrc</LastCrc>
							<SequenceNo>t_slaveSeqNo</SequenceNo>
							<OldCrc>t_oldSlaveCrc</OldCrc>
							<New>true</New>
						</IsCrcCorrect>
					</Action>
					<Compares>
						<Compare>
							<Condition>
								<Value1>crcCorrect</Value1>
								<Operator>Equal</Operator>
								<Value2>false</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value>Invalid Crc received</Value>
									<Id>4</Id>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>SafeInputs.Length</Value1>
								<Operator>Equal</Operator>
								<Value2>1</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Output</Type>
									<Value/>
								</Return>
							</Statement>
						</Compare>
					</Compares>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value Param0="t_slaveFrame.Crc0">Invalid Crc0 reveived ({0:x})</Value>
							<Id>4</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SetVars">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>c_tmpByte</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_index</Destination>
								<Source>1</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="CheckRemainingSafeData">
					<Compares>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.SafeData[t_index]</Value1>
								<Operator>NotEqual</Operator>
								<Value2>c_tmpByte</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value Param0="t_slaveFrame.SafeData[t_index]" Param1="t_index">SafeData[{1}]  = 0x{0:x2} (has to be unused (=0)) </Value>
									<Id>7</Id>
								</Return>
							</Statement>
						</Compare>
					</Compares>
				</TestStep>
				<TestStep Name="IncrementIndex">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>t_index</Destination>
								<Source>t_index+1</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="CheckIndex">
					<Compares>
						<Compare>
							<Condition>
								<Value1>t_index</Value1>
								<Operator>Lower</Operator>
								<Value2>SafeInputs.Length</Value2>
							</Condition>
							<Statement>
								<GotoStep>CheckRemainingSafeData</GotoStep>
							</Statement>
						</Compare>
					</Compares>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="CHECK_REMAINING_SAFE_DATA_IN_SESSION">
			<TestSteps>
				<TestStep Name="SetStartIndex">
					<Compares>
						<Compare>
							<Condition>
								<Value1>SafeInputs.Length</Value1>
								<Operator>Equal</Operator>
								<Value2>1</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Output</Type>
									<Value/>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>SafeDataLength</Value1>
								<Operator>NotEqual</Operator>
								<Value2>1</Value2>
							</Condition>
							<Statement>
								<SetVariables>
									<SetVariable>
										<Destination>t_safeDataIndex</Destination>
										<Source>2</Source>
									</SetVariable>
								</SetVariables>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>SafeDataLength</Value1>
								<Operator>Equal</Operator>
								<Value2>1</Value2>
							</Condition>
							<Statement>
								<SetVariables>
									<SetVariable>
										<Destination>t_safeDataIndex</Destination>
										<Source>1</Source>
									</SetVariable>
								</SetVariables>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>SafeInputs.Length</Value1>
								<Operator>LowerOrEqual</Operator>
								<Value2>t_safeDataIndex</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Output</Type>
									<Value/>
								</Return>
							</Statement>
						</Compare>
					</Compares>
				</TestStep>
				<TestStep Name="SetVars">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>c_tmpByte</Destination>
								<Source>0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="CheckRemainingSafeData">
					<Compares>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.SafeData[t_safeDataIndex]</Value1>
								<Operator>NotEqual</Operator>
								<Value2>c_tmpByte</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value Param0="t_slaveFrame.SafeData[t_safeDataIndex]" Param1="t_safeDataIndex">SafeData[{1}]  = 0x{0:x2} (shall be unused (=0)) </Value>
									<Id>7</Id>
								</Return>
							</Statement>
						</Compare>
					</Compares>
				</TestStep>
				<TestStep Name="IncrementIndex">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>t_safeDataIndex</Destination>
								<Source>t_safeDataIndex+1</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="CheckIndex">
					<Compares>
						<Compare>
							<Condition>
								<Value1>t_safeDataIndex</Value1>
								<Operator>Lower</Operator>
								<Value2>SafeInputs.Length</Value2>
							</Condition>
							<Statement>
								<GotoStep>CheckRemainingSafeData</GotoStep>
							</Statement>
						</Compare>
					</Compares>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="CHECK_RESET_FAIL_WO_WD">
			<TestSteps>
				<TestStep Name="SetTempUint16">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>t_initUInt16</Destination>
								<Source>0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="SetLastCrc">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>t_masterFrame.Crc0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="ReceiveEvent">
					<Event>
						<ReceiveFrame>t_slaveFrame</ReceiveFrame>
					</Event>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_slaveFrame.FrameData">Slave Frame in CheckCrc: {0}</Value>
						</Information>
					</Informations2>
				</TestStep>
				<TestStep Name="CheckCmdAndCommFaultReasonAndConnID">
					<Compares>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>NotEqual</Operator>
								<Value2>Reset</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>NotEqual</Operator>
								<Value2>Session</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>NotEqual</Operator>
								<Value2>Connection</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>NotEqual</Operator>
								<Value2>Parameter</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>NotEqual</Operator>
								<Value2>ProcessData</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>NotEqual</Operator>
								<Value2>FailSafeData</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value Param0="t_slaveFrame.Command">Unknown Cmd received: 0x{0:x2} || expected: 0x2a (Reset) </Value>
									<Id>2</Id>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>NotEqual</Operator>
								<Value2>Reset</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value Param0="t_slaveFrame.Command">Invalid command received: 0x{0:x2} || expected: 0x2a (Reset) </Value>
									<Id>1</Id>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>Equal</Operator>
								<Value2>Reset</Value2>
							</Condition>
							<Statement>
								<Information>
									<Type>Verbose</Type>
									<Value Param0="t_slaveFrame.Command">Expected command received:  0x{0:x2}  (Reset) </Value>
								</Information>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.FrameData[1]</Value1>
								<Operator>NotEqual</Operator>
								<Value2>c_CommFaultReason</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value Param0="t_slaveFrame.FrameData[1]" Param1="c_CommFaultReason">Invalid CommFaultReason received: {0} || expected: {1} </Value>
									<Id>7</Id>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.FrameData[1]</Value1>
								<Operator>Equal</Operator>
								<Value2>c_CommFaultReason</Value2>
							</Condition>
							<Statement>
								<Information>
									<Type>Verbose</Type>
									<Value Param0="t_slaveFrame.FrameData[1]" Param1="c_CommFaultReason">Expected CommFaultReason received: {0}</Value>
								</Information>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.ConnId</Value1>
								<Operator>NotEqual</Operator>
								<Value2>t_initUInt16</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value>Invalid Connection Id received</Value>
									<Id>3</Id>
								</Return>
							</Statement>
						</Compare>
					</Compares>
				</TestStep>
				<TestStep Name="SetVars">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_slaveSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_oldSlaveCrc</Destination>
								<Source>0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="CheckReceivedCrcInReset">
					<Informations1>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_slaveFrame.FrameData" Param1="LastCrc" Param2="t_slaveSeqNo" Param3="t_oldSlaveCrc" Param4="true">IsCrcCorrect(Frame {0}, LastCrc 0x{1:X4}, SeqNo {2}, OldCrc 0x{3:X4}, New {4})</Value>
						</Information>
					</Informations1>
					<Action>
						<IsCrcCorrect ReturnValue="crcCorrect">
							<Frame>t_slaveFrame</Frame>
							<LastCrc>LastCrc</LastCrc>
							<SequenceNo>t_slaveSeqNo</SequenceNo>
							<OldCrc>t_oldSlaveCrc</OldCrc>
							<New>true</New>
						</IsCrcCorrect>
					</Action>
					<Compares>
						<Compare>
							<Condition>
								<Value1>crcCorrect</Value1>
								<Operator>Equal</Operator>
								<Value2>false</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value>Invalid Crc received</Value>
									<Id>4</Id>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>SafeInputs.Length</Value1>
								<Operator>Equal</Operator>
								<Value2>1</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Output</Type>
									<Value/>
								</Return>
							</Statement>
						</Compare>
					</Compares>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value Param0="t_slaveFrame.Crc0">Invalid Crc0 reveived ({0:x})</Value>
							<Id>4</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SetVars">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>c_tmpByte</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_index</Destination>
								<Source>1</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="CheckRemainingSafeData">
					<Compares>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.SafeData[t_index]</Value1>
								<Operator>NotEqual</Operator>
								<Value2>c_tmpByte</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value Param0="t_slaveFrame.SafeData[t_index]" Param1="t_index">SafeData[{1}]  = 0x{0:x2} (has to be unused (=0)) </Value>
									<Id>7</Id>
								</Return>
							</Statement>
						</Compare>
					</Compares>
				</TestStep>
				<TestStep Name="IncrementIndex">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>t_index</Destination>
								<Source>t_index+1</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="CheckIndex">
					<Compares>
						<Compare>
							<Condition>
								<Value1>t_index</Value1>
								<Operator>Lower</Operator>
								<Value2>SafeInputs.Length</Value2>
							</Condition>
							<Statement>
								<GotoStep>CheckRemainingSafeData</GotoStep>
							</Statement>
						</Compare>
					</Compares>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="CONN_FAIL1">
			<TestSteps>
				<TestStep Name="SetVars">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>OldMasterCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_oldSlaveCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_masterSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_slaveSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>DataCommand</Destination>
								<Source>FailSafeData</Source>
							</SetVariable>
							<SetVariable>
								<Destination>CommFaultReason</Destination>
								<Source>INVALID_CRC</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="SetFrame">
					<Action>
						<SetFrame Name="t_masterFrame">
							<Command>
								<CommandValue>Reset</CommandValue>
							</Command>
							<SafeData>
								<SafeDataVariable>CommFaultReason</SafeDataVariable>
							</SafeData>
							<LastCRC>LastCrc</LastCRC>
							<ConnectionID>
								<UshortValue>0</UshortValue>
							</ConnectionID>
							<SequenceNo>t_masterSeqNo</SequenceNo>
							<OldCRC>OldMasterCrc</OldCRC>
							<New>false</New>
						</SetFrame>
					</Action>
				</TestStep>
				<TestStep Name="SendFrame">
					<Action>
						<SendFrame Name="t_masterFrame"/>
					</Action>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to send FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SetMasterSeqNo">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>t_masterSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="StartWatchdog">
					<Action>
						<StartWd>
							<Watchdog>t_watchdog</Watchdog>
						</StartWd>
					</Action>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="CONN_FAIL2">
			<TestSteps>
				<TestStep Name="SetVars">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>OldMasterCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_oldSlaveCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_masterSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_slaveSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>DataCommand</Destination>
								<Source>FailSafeData</Source>
							</SetVariable>
							<SetVariable>
								<Destination>CommFaultReason</Destination>
								<Source>INVALID_DATA</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="SetFrame">
					<Action>
						<SetFrame Name="t_masterFrame">
							<Command>
								<CommandValue>Reset</CommandValue>
							</Command>
							<SafeData>
								<SafeDataVariable>CommFaultReason</SafeDataVariable>
							</SafeData>
							<LastCRC>LastCrc</LastCRC>
							<ConnectionID>
								<UshortValue>0</UshortValue>
							</ConnectionID>
							<SequenceNo>t_masterSeqNo</SequenceNo>
							<OldCRC>OldMasterCrc</OldCRC>
							<New>false</New>
						</SetFrame>
					</Action>
				</TestStep>
				<TestStep Name="SendFrame">
					<Action>
						<SendFrame Name="t_masterFrame"/>
					</Action>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to send FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SetMasterSeqNo">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>t_masterSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="StartWatchdog">
					<Action>
						<StartWd>
							<Watchdog>t_watchdog</Watchdog>
						</StartWd>
					</Action>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="CONN_FAIL3">
			<TestSteps>
				<TestStep Name="SetVars">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>OldMasterCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_oldSlaveCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_masterSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_slaveSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>DataCommand</Destination>
								<Source>FailSafeData</Source>
							</SetVariable>
							<SetVariable>
								<Destination>CommFaultReason</Destination>
								<Source>INVALID_CONNID</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="SetFrame">
					<Action>
						<SetFrame Name="t_masterFrame">
							<Command>
								<CommandValue>Reset</CommandValue>
							</Command>
							<SafeData>
								<SafeDataVariable>CommFaultReason</SafeDataVariable>
							</SafeData>
							<LastCRC>LastCrc</LastCRC>
							<ConnectionID>
								<UshortValue>0</UshortValue>
							</ConnectionID>
							<SequenceNo>t_masterSeqNo</SequenceNo>
							<OldCRC>OldMasterCrc</OldCRC>
							<New>false</New>
						</SetFrame>
					</Action>
				</TestStep>
				<TestStep Name="SendFrame">
					<Action>
						<SendFrame Name="t_masterFrame"/>
					</Action>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to send FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SetMasterSeqNo">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>t_masterSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="StartWatchdog">
					<Action>
						<StartWd>
							<Watchdog>t_watchdog</Watchdog>
						</StartWd>
					</Action>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="CONN_FAIL4">
			<TestSteps>
				<TestStep Name="SetVars">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>OldMasterCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_oldSlaveCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_masterSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_slaveSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>DataCommand</Destination>
								<Source>FailSafeData</Source>
							</SetVariable>
							<SetVariable>
								<Destination>CommFaultReason</Destination>
								<Source>INVALID_CMD</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="SetFrame">
					<Action>
						<SetFrame Name="t_masterFrame">
							<Command>
								<CommandValue>Reset</CommandValue>
							</Command>
							<SafeData>
								<SafeDataVariable>CommFaultReason</SafeDataVariable>
							</SafeData>
							<LastCRC>LastCrc</LastCRC>
							<ConnectionID>
								<UshortValue>0</UshortValue>
							</ConnectionID>
							<SequenceNo>t_masterSeqNo</SequenceNo>
							<OldCRC>OldMasterCrc</OldCRC>
							<New>false</New>
						</SetFrame>
					</Action>
				</TestStep>
				<TestStep Name="SendFrame">
					<Action>
						<SendFrame Name="t_masterFrame"/>
					</Action>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to send FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SetMasterSeqNo">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>t_masterSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="StartWatchdog">
					<Action>
						<StartWd>
							<Watchdog>t_watchdog</Watchdog>
						</StartWd>
					</Action>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="CONN_FAIL5">
			<TestSteps>
				<TestStep Name="SetVars">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>OldMasterCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_oldSlaveCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_masterSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_slaveSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>DataCommand</Destination>
								<Source>FailSafeData</Source>
							</SetVariable>
							<SetVariable>
								<Destination>CommFaultReason</Destination>
								<Source>UNKNOWN_CMD</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="SetFrame">
					<Action>
						<SetFrame Name="t_masterFrame">
							<Command>
								<CommandValue>Reset</CommandValue>
							</Command>
							<SafeData>
								<SafeDataVariable>CommFaultReason</SafeDataVariable>
							</SafeData>
							<LastCRC>LastCrc</LastCRC>
							<ConnectionID>
								<UshortValue>0</UshortValue>
							</ConnectionID>
							<SequenceNo>t_masterSeqNo</SequenceNo>
							<OldCRC>OldMasterCrc</OldCRC>
							<New>false</New>
						</SetFrame>
					</Action>
				</TestStep>
				<TestStep Name="SendFrame">
					<Action>
						<SendFrame Name="t_masterFrame"/>
					</Action>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to send FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SetMasterSeqNo">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>t_masterSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="StartWatchdog">
					<Action>
						<StartWd>
							<Watchdog>t_watchdog</Watchdog>
						</StartWd>
					</Action>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="CONN_OK">
			<TestSteps>
				<TestStep Name="SetVars">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>t_slaveFrame.Crc0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="SetFrame">
					<Informations1>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_safePara" Param1="LastCrc" Param2="t_masterSeqNo" Param3="OldMasterCrc" Param4="t_connectionId">SetFrame(Command Parameter, SafeData {0}, LastCrc 0x{1:x4}, ConnectionId 0x{4:x4},  SequenceNo 0x{2:x4}, OldCrc 0x{3:x4}, New true)</Value>
						</Information>
					</Informations1>
					<Action>
						<SetFrame Name="t_masterFrame">
							<Command>
								<CommandValue>Parameter</CommandValue>
							</Command>
							<SafeData>
								<SafeDataVariable>t_safePara</SafeDataVariable>
							</SafeData>
							<LastCRC>t_slaveFrame.Crc0</LastCRC>
							<ConnectionID>
								<ConnectionIdVariable>t_connectionId</ConnectionIdVariable>
							</ConnectionID>
							<SequenceNo>t_masterSeqNo</SequenceNo>
							<OldCRC>OldMasterCrc</OldCRC>
							<New>true</New>
						</SetFrame>
					</Action>
				</TestStep>
				<TestStep Name="SendFrame">
					<Action>
						<SendFrame Name="t_masterFrame"/>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_masterFrame.FrameData">Master Frame: {0}</Value>
						</Information>
					</Informations2>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to send FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SetLastCrc">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>t_masterFrame.Crc0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_masterFrame.Crc0">LastCrc = 0x{0:x4}</Value>
						</Information>
					</Informations2>
				</TestStep>
				<TestStep Name="UpdateBytesToBeSend">
					<Action>
						<UpdateBytesToBeSent BytesToBeSent="BytesToBeSent">
							<BytesSent>SafeParaSize</BytesSent>
						</UpdateBytesToBeSent>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="BytesToBeSent">BytesToBeSent = {0}</Value>
						</Information>
					</Informations2>
				</TestStep>
				<TestStep Name="StartWatchdog">
					<Informations1>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_watchdog" Param1="ElapsedWD">Watchdog = {0} ms, elapsed time: {1} ms</Value>
						</Information>
					</Informations1>
					<Action>
						<StartWd>
							<Watchdog>t_watchdog</Watchdog>
						</StartWd>
					</Action>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="CONN_RESET1">
			<TestSteps>
				<TestStep Name="SetVars">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>OldMasterCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_oldSlaveCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_masterSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_slaveSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>DataCommand</Destination>
								<Source>FailSafeData</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="SetFrame">
					<Informations1>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_masterSessionId" Param1="LastCrc" Param2="t_masterSeqNo" Param3="OldMasterCrc" Param4="0">SetFrame(Command Session, SafeData {0}, LastCrc 0x{1:x4}, ConnectionId 0x{4:x4},  SequenceNo 0x{2:x4}, OldCrc 0x{3:x4}, New false</Value>
						</Information>
					</Informations1>
					<Action>
						<SetFrame Name="t_masterFrame">
							<Command>
								<CommandValue>Session</CommandValue>
							</Command>
							<SafeData>
								<SafeDataVariable>t_masterSessionId</SafeDataVariable>
							</SafeData>
							<LastCRC>LastCrc</LastCRC>
							<ConnectionID>
								<UshortValue>0</UshortValue>
							</ConnectionID>
							<SequenceNo>t_masterSeqNo</SequenceNo>
							<OldCRC>OldMasterCrc</OldCRC>
							<New>false</New>
						</SetFrame>
					</Action>
				</TestStep>
				<TestStep Name="SendFrame">
					<Action>
						<SendFrame Name="t_masterFrame"/>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_masterFrame.FrameData">Master Frame: {0}</Value>
						</Information>
					</Informations2>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to send FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SetLastCrc">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>t_masterFrame.Crc0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="SetOldCrc">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>t_oldSlaveCrc</Destination>
								<Source>t_slaveFrame.Crc0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_slaveFrame.Crc0">OldCrc = 0x{0:x4}</Value>
						</Information>
					</Informations2>
				</TestStep>
				<TestStep Name="UpdateBytesToBeSend">
					<Action>
						<UpdateBytesToBeSent BytesToBeSent="BytesToBeSent">
							<BytesSent>2</BytesSent>
						</UpdateBytesToBeSent>
					</Action>
				</TestStep>
				<TestStep Name="StartWatchdog">
					<Action>
						<StartWd>
							<Watchdog>t_watchdog</Watchdog>
						</StartWd>
					</Action>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="CONN_RESET2">
			<TestSteps>
				<TestStep Name="SetVars">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>OldMasterCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_oldSlaveCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_masterSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_slaveSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>DataCommand</Destination>
								<Source>FailSafeData</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_masterSessionId</Destination>
								<Source>1</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="SetFrame">
					<Action>
						<SetFrame Name="t_masterFrame">
							<Command>
								<CommandValue>Session</CommandValue>
							</Command>
							<SafeData>
								<SafeDataVariable>t_masterSessionId</SafeDataVariable>
							</SafeData>
							<LastCRC>LastCrc</LastCRC>
							<ConnectionID>
								<UshortValue>0</UshortValue>
							</ConnectionID>
							<SequenceNo>t_masterSeqNo</SequenceNo>
							<OldCRC>OldMasterCrc</OldCRC>
							<New>false</New>
						</SetFrame>
					</Action>
				</TestStep>
				<TestStep Name="SendFrame">
					<Action>
						<SendFrame Name="t_masterFrame"/>
					</Action>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to send FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="StartWatchdog">
					<Action>
						<StartWd>
							<Watchdog>t_watchdog</Watchdog>
						</StartWd>
					</Action>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="CONN_STAY1">
			<TestSteps>
				<TestStep Name="SetVars">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>t_slaveFrame.Crc0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="SetConnData">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination DestinationIndex="0">t_safeData</Destination>
								<Source SourceIndex="0">FailSafeValue</Source>
							</SetVariable>
							<SetVariable>
								<Destination DestinationIndex="0">t_safeData</Destination>
								<Source SourceIndex="4-BytesToBeSent">t_connData</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="SetFrame">
					<Informations1>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_safeData" Param1="LastCrc" Param2="t_masterSeqNo" Param3="OldMasterCrc" Param4="t_connectionId">SetFrame(Command Connection, SafeData {0}, LastCrc 0x{1:x4}, ConnectionId 0x{4:x4},  SequenceNo 0x{2:x4}, OldCrc 0x{3:x4}, New true)</Value>
						</Information>
					</Informations1>
					<Action>
						<SetFrame Name="t_masterFrame">
							<Command>
								<CommandValue>Connection</CommandValue>
							</Command>
							<SafeData>
								<SafeDataVariable>t_safeData</SafeDataVariable>
							</SafeData>
							<LastCRC>t_slaveFrame.Crc0</LastCRC>
							<ConnectionID>
								<ConnectionIdVariable>t_connectionId</ConnectionIdVariable>
							</ConnectionID>
							<SequenceNo>t_masterSeqNo</SequenceNo>
							<OldCRC>OldMasterCrc</OldCRC>
							<New>true</New>
						</SetFrame>
					</Action>
				</TestStep>
				<TestStep Name="SendFrame">
					<Action>
						<SendFrame Name="t_masterFrame"/>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_masterFrame.FrameData">Master Frame: {0}</Value>
						</Information>
					</Informations2>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to send FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SetLastCrc">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>t_masterFrame.Crc0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_masterFrame.Crc0">LastCrc = 0x{0:x4}</Value>
						</Information>
					</Informations2>
				</TestStep>
				<TestStep Name="UpdateBytesToBeSend">
					<Action>
						<UpdateBytesToBeSent BytesToBeSent="BytesToBeSent">
							<BytesSent>BytesToBeSent</BytesSent>
						</UpdateBytesToBeSent>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="BytesToBeSent">BytesToBeSent = {0}</Value>
						</Information>
					</Informations2>
				</TestStep>
				<TestStep Name="StartWatchdog">
					<Informations1>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_watchdog" Param1="ElapsedWD">Watchdog = {0} ms, elapsed time: {1} ms</Value>
						</Information>
					</Informations1>
					<Action>
						<StartWd>
							<Watchdog>t_watchdog</Watchdog>
						</StartWd>
					</Action>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="CONN_STAY1_INVALID_CONNID">
			<TestSteps>
				<TestStep Name="SetVars">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>t_slaveFrame.Crc0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="SetInvalidConnId">
					<Informations1>
						<Information>
							<Type>Output</Type>
							<Value Param0="t_connectionId">Valid ConnId: 0x{0:x4}</Value>
						</Information>
					</Informations1>
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>t_connectionId</Destination>
								<Source>c_connId</Source>
							</SetVariable>
						</SetVariables>
					</Action>
					<Informations2>
						<Information>
							<Type>Output</Type>
							<Value Param0="t_connectionId">Falsified ConnId: 0x{0:x4}</Value>
						</Information>
					</Informations2>
				</TestStep>
				<TestStep Name="SetConnData">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination DestinationIndex="0">t_safeData</Destination>
								<Source SourceIndex="0">FailSafeValue</Source>
							</SetVariable>
							<SetVariable>
								<Destination DestinationIndex="0">t_safeData</Destination>
								<Source SourceIndex="4-BytesToBeSent">t_connData</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="SetFrame">
					<Informations1>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_safeData" Param1="LastCrc" Param2="t_masterSeqNo" Param3="OldMasterCrc" Param4="t_connectionId">SetFrame(Command Connection, SafeData {0}, LastCrc 0x{1:x4}, ConnectionId 0x{4:x4},  SequenceNo 0x{2:x4}, OldCrc 0x{3:x4}, New true)</Value>
						</Information>
					</Informations1>
					<Action>
						<SetFrame Name="t_masterFrame">
							<Command>
								<CommandValue>Connection</CommandValue>
							</Command>
							<SafeData>
								<SafeDataVariable>t_safeData</SafeDataVariable>
							</SafeData>
							<LastCRC>t_slaveFrame.Crc0</LastCRC>
							<ConnectionID>
								<ConnectionIdVariable>t_connectionId</ConnectionIdVariable>
							</ConnectionID>
							<SequenceNo>t_masterSeqNo</SequenceNo>
							<OldCRC>OldMasterCrc</OldCRC>
							<New>true</New>
						</SetFrame>
					</Action>
				</TestStep>
				<TestStep Name="SendFrame">
					<Action>
						<SendFrame Name="t_masterFrame"/>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_masterFrame.FrameData">Master Frame: {0}</Value>
						</Information>
					</Informations2>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to send FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SetLastCrc">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>t_masterFrame.Crc0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_masterFrame.Crc0">LastCrc = 0x{0:x4}</Value>
						</Information>
					</Informations2>
				</TestStep>
				<TestStep Name="UpdateBytesToBeSend">
					<Action>
						<UpdateBytesToBeSent BytesToBeSent="BytesToBeSent">
							<BytesSent>BytesToBeSent</BytesSent>
						</UpdateBytesToBeSent>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="BytesToBeSent">BytesToBeSent = {0}</Value>
						</Information>
					</Informations2>
				</TestStep>
				<TestStep Name="StartWatchdog">
					<Informations1>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_watchdog" Param1="ElapsedWD">Watchdog = {0} ms, elapsed time: {1} ms</Value>
						</Information>
					</Informations1>
					<Action>
						<StartWd>
							<Watchdog>t_watchdog</Watchdog>
						</StartWd>
					</Action>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="CONN_STAY1_INCREMENTED_CRC0">
			<TestSteps>
				<TestStep Name="SetVars">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>t_slaveFrame.Crc0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="SetConnData">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination DestinationIndex="0">t_safeData</Destination>
								<Source SourceIndex="0">FailSafeValue</Source>
							</SetVariable>
							<SetVariable>
								<Destination DestinationIndex="0">t_safeData</Destination>
								<Source SourceIndex="4-BytesToBeSent">t_connData</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="SetFrame">
					<Informations1>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_safeData" Param1="LastCrc" Param2="t_masterSeqNo" Param3="OldMasterCrc" Param4="t_connectionId">SetFrame(Command Connection, SafeData {0}, LastCrc 0x{1:x4}, ConnectionId 0x{4:x4},  SequenceNo 0x{2:x4}, OldCrc 0x{3:x4}, New true)</Value>
						</Information>
					</Informations1>
					<Action>
						<SetFrame Name="t_masterFrame">
							<Command>
								<CommandValue>Connection</CommandValue>
							</Command>
							<SafeData>
								<SafeDataVariable>t_safeData</SafeDataVariable>
							</SafeData>
							<LastCRC>t_slaveFrame.Crc0</LastCRC>
							<ConnectionID>
								<ConnectionIdVariable>t_connectionId</ConnectionIdVariable>
							</ConnectionID>
							<SequenceNo>t_masterSeqNo</SequenceNo>
							<OldCRC>OldMasterCrc</OldCRC>
							<New>true</New>
						</SetFrame>
					</Action>
				</TestStep>
				<TestStep Name="SetInvalidCrc0">
					<Informations1>
						<Information>
							<Type>Output</Type>
							<Value Param0="t_masterFrame.Crc0">Valid Crc0 = 0x{0:x4}</Value>
						</Information>
					</Informations1>
					<Action>
						<CallFunction>
							<Reference>INCREMENT_CRC_0</Reference>
						</CallFunction>
					</Action>
					<Informations2>
						<Information>
							<Type>Output</Type>
							<Value Param0="t_masterFrame.Crc0">Falsified Crc0 = 0x{0:x4}</Value>
						</Information>
					</Informations2>
				</TestStep>
				<TestStep Name="SendFrame">
					<Action>
						<SendFrame Name="t_masterFrame"/>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_masterFrame.FrameData">Master Frame: {0}</Value>
						</Information>
					</Informations2>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to send FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SetLastCrc">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>t_masterFrame.Crc0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_masterFrame.Crc0">LastCrc = 0x{0:x4}</Value>
						</Information>
					</Informations2>
				</TestStep>
				<TestStep Name="UpdateBytesToBeSend">
					<Action>
						<UpdateBytesToBeSent BytesToBeSent="BytesToBeSent">
							<BytesSent>BytesToBeSent</BytesSent>
						</UpdateBytesToBeSent>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="BytesToBeSent">BytesToBeSent = {0}</Value>
						</Information>
					</Informations2>
				</TestStep>
				<TestStep Name="StartWatchdog">
					<Informations1>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_watchdog" Param1="ElapsedWD">Watchdog = {0} ms, elapsed time: {1} ms</Value>
						</Information>
					</Informations1>
					<Action>
						<StartWd>
							<Watchdog>t_watchdog</Watchdog>
						</StartWd>
					</Action>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="CONN_STAY1_DECREMENTED_CRC0">
			<TestSteps>
				<TestStep Name="SetVars">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>t_slaveFrame.Crc0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="SetConnData">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination DestinationIndex="0">t_safeData</Destination>
								<Source SourceIndex="0">FailSafeValue</Source>
							</SetVariable>
							<SetVariable>
								<Destination DestinationIndex="0">t_safeData</Destination>
								<Source SourceIndex="4-BytesToBeSent">t_connData</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="SetFrame">
					<Informations1>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_safeData" Param1="LastCrc" Param2="t_masterSeqNo" Param3="OldMasterCrc" Param4="t_connectionId">SetFrame(Command Connection, SafeData {0}, LastCrc 0x{1:x4}, ConnectionId 0x{4:x4},  SequenceNo 0x{2:x4}, OldCrc 0x{3:x4}, New true)</Value>
						</Information>
					</Informations1>
					<Action>
						<SetFrame Name="t_masterFrame">
							<Command>
								<CommandValue>Connection</CommandValue>
							</Command>
							<SafeData>
								<SafeDataVariable>t_safeData</SafeDataVariable>
							</SafeData>
							<LastCRC>t_slaveFrame.Crc0</LastCRC>
							<ConnectionID>
								<ConnectionIdVariable>t_connectionId</ConnectionIdVariable>
							</ConnectionID>
							<SequenceNo>t_masterSeqNo</SequenceNo>
							<OldCRC>OldMasterCrc</OldCRC>
							<New>true</New>
						</SetFrame>
					</Action>
				</TestStep>
				<TestStep Name="SetInvalidCrc0">
					<Informations1>
						<Information>
							<Type>Output</Type>
							<Value Param0="t_masterFrame.Crc0">Valid Crc0 = 0x{0:x4}</Value>
						</Information>
					</Informations1>
					<Action>
						<CallFunction>
							<Reference>INCREMENT_CRC_0</Reference>
						</CallFunction>
					</Action>
					<Informations2>
						<Information>
							<Type>Output</Type>
							<Value Param0="t_masterFrame.Crc0">Falsified Crc0 = 0x{0:x4}</Value>
						</Information>
					</Informations2>
				</TestStep>
				<TestStep Name="SendFrame">
					<Action>
						<SendFrame Name="t_masterFrame"/>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_masterFrame.FrameData">Master Frame: {0}</Value>
						</Information>
					</Informations2>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to send FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SetLastCrc">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>t_masterFrame.Crc0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_masterFrame.Crc0">LastCrc = 0x{0:x4}</Value>
						</Information>
					</Informations2>
				</TestStep>
				<TestStep Name="UpdateBytesToBeSend">
					<Action>
						<UpdateBytesToBeSent BytesToBeSent="BytesToBeSent">
							<BytesSent>BytesToBeSent</BytesSent>
						</UpdateBytesToBeSent>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="BytesToBeSent">BytesToBeSent = {0}</Value>
						</Information>
					</Informations2>
				</TestStep>
				<TestStep Name="StartWatchdog">
					<Informations1>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_watchdog" Param1="ElapsedWD">Watchdog = {0} ms, elapsed time: {1} ms</Value>
						</Information>
					</Informations1>
					<Action>
						<StartWd>
							<Watchdog>t_watchdog</Watchdog>
						</StartWd>
					</Action>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="CONN_WD">
			<TestSteps>
				<TestStep Name="SetVars">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>OldMasterCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_oldSlaveCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_masterSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_slaveSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>DataCommand</Destination>
								<Source>FailSafeData</Source>
							</SetVariable>
							<SetVariable>
								<Destination>commFaultReason</Destination>
								<Source>WD_EXPIRED</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="SetFrame">
					<Action>
						<SetFrame Name="t_masterFrame">
							<Command>
								<CommandValue>Reset</CommandValue>
							</Command>
							<SafeData>
								<SafeDataVariable>commFaultReason</SafeDataVariable>
							</SafeData>
							<LastCRC>LastCrc</LastCRC>
							<ConnectionID>
								<UshortValue>0</UshortValue>
							</ConnectionID>
							<SequenceNo>t_masterSeqNo</SequenceNo>
							<OldCRC>OldMasterCrc</OldCRC>
							<New>false</New>
						</SetFrame>
					</Action>
				</TestStep>
				<TestStep Name="SendFrame">
					<Action>
						<SendFrame Name="t_masterFrame"/>
					</Action>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to send FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SetMasterSeqNo">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>t_masterSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="StartWatchdog">
					<Action>
						<StartWd>
							<Watchdog>t_watchdog</Watchdog>
						</StartWd>
					</Action>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="DATA_FAIL1">
			<TestSteps>
				<TestStep Name="SetVars">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>OldMasterCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_oldSlaveCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_masterSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_slaveSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>DataCommand</Destination>
								<Source>FailSafeData</Source>
							</SetVariable>
							<SetVariable>
								<Destination>SafeInputs</Destination>
								<Source>FailSafeValue</Source>
							</SetVariable>
							<SetVariable>
								<Destination>CommFaultReason</Destination>
								<Source>INVALID_CRC</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="SetFrame">
					<Action>
						<SetFrame Name="t_masterFrame">
							<Command>
								<CommandValue>Reset</CommandValue>
							</Command>
							<SafeData>
								<SafeDataVariable>CommFaultReason</SafeDataVariable>
							</SafeData>
							<LastCRC>LastCrc</LastCRC>
							<ConnectionID>
								<UshortValue>0</UshortValue>
							</ConnectionID>
							<SequenceNo>t_masterSeqNo</SequenceNo>
							<OldCRC>OldMasterCrc</OldCRC>
							<New>false</New>
						</SetFrame>
					</Action>
				</TestStep>
				<TestStep Name="SendFrame">
					<Action>
						<SendFrame Name="t_masterFrame"/>
					</Action>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to send FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SetMasterSeqNo">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>t_masterSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="StartWatchdog">
					<Action>
						<StartWd>
							<Watchdog>t_watchdog</Watchdog>
						</StartWd>
					</Action>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="DATA_FAIL2">
			<TestSteps>
				<TestStep Name="SetVars">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>OldMasterCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_oldSlaveCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_masterSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_slaveSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>DataCommand</Destination>
								<Source>FailSafeData</Source>
							</SetVariable>
							<SetVariable>
								<Destination>SafeInputs</Destination>
								<Source>FailSafeValue</Source>
							</SetVariable>
							<SetVariable>
								<Destination>CommFaultReason</Destination>
								<Source>INVALID_CONNID</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="SetFrame">
					<Action>
						<SetFrame Name="t_masterFrame">
							<Command>
								<CommandValue>Reset</CommandValue>
							</Command>
							<SafeData>
								<SafeDataVariable>CommFaultReason</SafeDataVariable>
							</SafeData>
							<LastCRC>LastCrc</LastCRC>
							<ConnectionID>
								<UshortValue>0</UshortValue>
							</ConnectionID>
							<SequenceNo>t_masterSeqNo</SequenceNo>
							<OldCRC>OldMasterCrc</OldCRC>
							<New>false</New>
						</SetFrame>
					</Action>
				</TestStep>
				<TestStep Name="SendFrame">
					<Action>
						<SendFrame Name="t_masterFrame"/>
					</Action>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to send FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SetMasterSeqNo">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>t_masterSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="StartWatchdog">
					<Action>
						<StartWd>
							<Watchdog>t_watchdog</Watchdog>
						</StartWd>
					</Action>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="DATA_FAIL3">
			<TestSteps>
				<TestStep Name="SetVars">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>OldMasterCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_oldSlaveCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_masterSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_slaveSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>SafeInputs</Destination>
								<Source>FailSafeValue</Source>
							</SetVariable>
							<SetVariable>
								<Destination>DataCommand</Destination>
								<Source>FailSafeData</Source>
							</SetVariable>
							<SetVariable>
								<Destination>CommFaultReason</Destination>
								<Source>INVALID_CMD</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="SetFrame">
					<Action>
						<SetFrame Name="t_masterFrame">
							<Command>
								<CommandValue>Reset</CommandValue>
							</Command>
							<SafeData>
								<SafeDataVariable>CommFaultReason</SafeDataVariable>
							</SafeData>
							<LastCRC>LastCrc</LastCRC>
							<ConnectionID>
								<UshortValue>0</UshortValue>
							</ConnectionID>
							<SequenceNo>t_masterSeqNo</SequenceNo>
							<OldCRC>OldMasterCrc</OldCRC>
							<New>false</New>
						</SetFrame>
					</Action>
				</TestStep>
				<TestStep Name="SendFrame">
					<Action>
						<SendFrame Name="t_masterFrame"/>
					</Action>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to send FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SetMasterSeqNo">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>t_masterSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="StartWatchdog">
					<Action>
						<StartWd>
							<Watchdog>t_watchdog</Watchdog>
						</StartWd>
					</Action>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="DATA_FAIL4">
			<TestSteps>
				<TestStep Name="SetVars">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>OldMasterCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_oldSlaveCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_masterSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_slaveSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>SafeInputs</Destination>
								<Source>FailSafeValue</Source>
							</SetVariable>
							<SetVariable>
								<Destination>DataCommand</Destination>
								<Source>FailSafeData</Source>
							</SetVariable>
							<SetVariable>
								<Destination>CommFaultReason</Destination>
								<Source>UNKNOWN_CMD</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="SetFrame">
					<Action>
						<SetFrame Name="t_masterFrame">
							<Command>
								<CommandValue>Reset</CommandValue>
							</Command>
							<SafeData>
								<SafeDataVariable>CommFaultReason</SafeDataVariable>
							</SafeData>
							<LastCRC>LastCrc</LastCRC>
							<ConnectionID>
								<UshortValue>0</UshortValue>
							</ConnectionID>
							<SequenceNo>t_masterSeqNo</SequenceNo>
							<OldCRC>OldMasterCrc</OldCRC>
							<New>false</New>
						</SetFrame>
					</Action>
				</TestStep>
				<TestStep Name="SendFrame">
					<Action>
						<SendFrame Name="t_masterFrame"/>
					</Action>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to send FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SetMasterSeqNo">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>t_masterSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="StartWatchdog">
					<Action>
						<StartWd>
							<Watchdog>t_watchdog</Watchdog>
						</StartWd>
					</Action>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="DATA_OK1">
			<TestSteps>
				<TestStep Name="SetVars">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>SafeInputs</Destination>
								<Source>t_slaveFrame.SafeData</Source>
							</SetVariable>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>t_slaveFrame.Crc0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="SetFrame">
					<Informations1>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="SafeOutputs" Param1="LastCrc" Param2="t_masterSeqNo" Param3="OldMasterCrc" Param4="t_connectionId" Param5="DataCommand">SetFrame(Command {5}, SafeData {0}, LastCrc 0x{1:x4}, ConnectionId 0x{4:x4},  SequenceNo 0x{2:x4}, OldCrc 0x{3:x4}, New true)</Value>
						</Information>
					</Informations1>
					<Action>
						<SetFrame Name="t_masterFrame">
							<Command>
								<CommandVariable>DataCommand</CommandVariable>
							</Command>
							<SafeData>
								<SafeDataVariable>SafeOutputs</SafeDataVariable>
							</SafeData>
							<LastCRC>LastCrc</LastCRC>
							<ConnectionID>
								<ConnectionIdVariable>t_connectionId</ConnectionIdVariable>
							</ConnectionID>
							<SequenceNo>t_masterSeqNo</SequenceNo>
							<OldCRC>OldMasterCrc</OldCRC>
							<New>true</New>
						</SetFrame>
					</Action>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to set FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SendFrame">
					<Action>
						<SendFrame Name="t_masterFrame"/>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_masterFrame.FrameData">Master Frame: {0}</Value>
						</Information>
					</Informations2>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to send FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SetLastCrc">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>t_masterFrame.Crc0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="StartWatchdog">
					<Informations1>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_watchdog" Param1="ElapsedWD">Watchdog = {0} ms, elapsed time: {1} ms</Value>
						</Information>
					</Informations1>
					<Action>
						<StartWd>
							<Watchdog>t_watchdog</Watchdog>
						</StartWd>
					</Action>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="DATA_OK2">
			<TestSteps>
				<TestStep Name="SetVars">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>SafeInputs</Destination>
								<Source>FailSafeValue</Source>
							</SetVariable>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>t_slaveFrame.Crc0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="SetFrame">
					<Informations1>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="SafeOutputs" Param1="LastCrc" Param2="t_masterSeqNo" Param3="OldMasterCrc" Param4="t_connectionId" Param5="DataCommand">SetFrame(Command {5}, SafeData {0}, LastCrc 0x{1:x4}, ConnectionId 0x{4:x4},  SequenceNo 0x{2:x4}, OldCrc 0x{3:x4}, New true)</Value>
						</Information>
					</Informations1>
					<Action>
						<SetFrame Name="t_masterFrame">
							<Command>
								<CommandVariable>DataCommand</CommandVariable>
							</Command>
							<SafeData>
								<SafeDataVariable>SafeOutputs</SafeDataVariable>
							</SafeData>
							<LastCRC>t_slaveFrame.Crc0</LastCRC>
							<ConnectionID>
								<ConnectionIdVariable>t_connectionId</ConnectionIdVariable>
							</ConnectionID>
							<SequenceNo>t_masterSeqNo</SequenceNo>
							<OldCRC>OldMasterCrc</OldCRC>
							<New>true</New>
						</SetFrame>
					</Action>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to set FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SendFrame">
					<Action>
						<SendFrame Name="t_masterFrame"/>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_masterFrame.FrameData">Master Frame: {0}</Value>
						</Information>
					</Informations2>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to send FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SetLastCrc">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>t_masterFrame.Crc0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="StartWatchdog">
					<Informations1>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_watchdog" Param1="ElapsedWD">Watchdog = {0} ms, elapsed time: {1} ms</Value>
						</Information>
					</Informations1>
					<Action>
						<StartWd>
							<Watchdog>t_watchdog</Watchdog>
						</StartWd>
					</Action>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="DATA_OK1_WO_MSG">
			<TestSteps>
				<TestStep Name="SetVars">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>SafeInputs</Destination>
								<Source>t_slaveFrame.SafeData</Source>
							</SetVariable>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>t_slaveFrame.Crc0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="SetFrame">
					<Action>
						<SetFrame Name="t_masterFrame">
							<Command>
								<CommandVariable>DataCommand</CommandVariable>
							</Command>
							<SafeData>
								<SafeDataVariable>SafeOutputs</SafeDataVariable>
							</SafeData>
							<LastCRC>LastCrc</LastCRC>
							<ConnectionID>
								<ConnectionIdVariable>t_connectionId</ConnectionIdVariable>
							</ConnectionID>
							<SequenceNo>t_masterSeqNo</SequenceNo>
							<OldCRC>OldMasterCrc</OldCRC>
							<New>true</New>
						</SetFrame>
					</Action>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to set FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SendFrame">
					<Action>
						<SendFrame Name="t_masterFrame"/>
					</Action>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to send FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SetLastCrc">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>t_masterFrame.Crc0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="StartWatchdog">
					<Action>
						<StartWd>
							<Watchdog>t_watchdog</Watchdog>
						</StartWd>
					</Action>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="DATA_OK2_WO_MSG">
			<TestSteps>
				<TestStep Name="SetVars">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>SafeInputs</Destination>
								<Source>FailSafeValue</Source>
							</SetVariable>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>t_slaveFrame.Crc0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="SetFrame">
					<Action>
						<SetFrame Name="t_masterFrame">
							<Command>
								<CommandVariable>DataCommand</CommandVariable>
							</Command>
							<SafeData>
								<SafeDataVariable>SafeOutputs</SafeDataVariable>
							</SafeData>
							<LastCRC>t_slaveFrame.Crc0</LastCRC>
							<ConnectionID>
								<ConnectionIdVariable>t_connectionId</ConnectionIdVariable>
							</ConnectionID>
							<SequenceNo>t_masterSeqNo</SequenceNo>
							<OldCRC>OldMasterCrc</OldCRC>
							<New>true</New>
						</SetFrame>
					</Action>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to set FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SendFrame">
					<Action>
						<SendFrame Name="t_masterFrame"/>
					</Action>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to send FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SetLastCrc">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>t_masterFrame.Crc0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="StartWatchdog">
					<Action>
						<StartWd>
							<Watchdog>t_watchdog</Watchdog>
						</StartWd>
					</Action>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="DATA_RESET1">
			<TestSteps>
				<TestStep Name="SetVars">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>OldMasterCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_oldSlaveCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_masterSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_slaveSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>SafeInputs</Destination>
								<Source>FailSafeValue</Source>
							</SetVariable>
							<SetVariable>
								<Destination>DataCommand</Destination>
								<Source>FailSafeData</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="SetFrame">
					<Informations1>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_masterSessionId" Param1="LastCrc" Param2="t_masterSeqNo" Param3="OldMasterCrc" Param4="0">SetFrame(Command Session, SafeData {0}, LastCrc 0x{1:x4}, ConnectionId 0x{4:x4},  SequenceNo 0x{2:x4}, OldCrc 0x{3:x4}, New false</Value>
						</Information>
					</Informations1>
					<Action>
						<SetFrame Name="t_masterFrame">
							<Command>
								<CommandValue>Session</CommandValue>
							</Command>
							<SafeData>
								<SafeDataVariable>t_masterSessionId</SafeDataVariable>
							</SafeData>
							<LastCRC>LastCrc</LastCRC>
							<ConnectionID>
								<UshortValue>0</UshortValue>
							</ConnectionID>
							<SequenceNo>t_masterSeqNo</SequenceNo>
							<OldCRC>OldMasterCrc</OldCRC>
							<New>false</New>
						</SetFrame>
					</Action>
				</TestStep>
				<TestStep Name="SendFrame">
					<Action>
						<SendFrame Name="t_masterFrame"/>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_masterFrame.FrameData">Master Frame: {0}</Value>
						</Information>
					</Informations2>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to send FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SetLastCrc">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>t_masterFrame.Crc0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="SetOldCrc">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>t_oldSlaveCrc</Destination>
								<Source>t_slaveFrame.Crc0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_slaveFrame.Crc0">OldCrc = 0x{0:x4}</Value>
						</Information>
					</Informations2>
				</TestStep>
				<TestStep Name="UpdateBytesToBeSend">
					<Action>
						<UpdateBytesToBeSent BytesToBeSent="BytesToBeSent">
							<BytesSent>2</BytesSent>
						</UpdateBytesToBeSent>
					</Action>
				</TestStep>
				<TestStep Name="StartWatchdog">
					<Action>
						<StartWd>
							<Watchdog>t_watchdog</Watchdog>
						</StartWd>
					</Action>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="DATA_RESET2">
			<TestSteps>
				<TestStep Name="SetVars">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>OldMasterCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_oldSlaveCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_masterSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_slaveSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>SafeInputs</Destination>
								<Source>FailSafeValue</Source>
							</SetVariable>
							<SetVariable>
								<Destination>DataCommand</Destination>
								<Source>FailSafeData</Source>
							</SetVariable>
							<SetVariable>
								<Destination>CommFaultReason</Destination>
								<Source>0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="SetFrame">
					<Action>
						<SetFrame Name="t_masterFrame">
							<Command>
								<CommandValue>Reset</CommandValue>
							</Command>
							<SafeData>
								<SafeDataVariable>CommFaultReason</SafeDataVariable>
							</SafeData>
							<LastCRC>LastCrc</LastCRC>
							<ConnectionID>
								<UshortValue>0</UshortValue>
							</ConnectionID>
							<SequenceNo>t_masterSeqNo</SequenceNo>
							<OldCRC>OldMasterCrc</OldCRC>
							<New>false</New>
						</SetFrame>
					</Action>
				</TestStep>
				<TestStep Name="SendFrame">
					<Action>
						<SendFrame Name="t_masterFrame"/>
					</Action>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to send FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="StartWatchdog">
					<Action>
						<StartWd>
							<Watchdog>t_watchdog</Watchdog>
						</StartWd>
					</Action>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="DATA_WD">
			<TestSteps>
				<TestStep Name="SetVars">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>OldMasterCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_oldSlaveCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_masterSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_slaveSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>SafeInputs</Destination>
								<Source>FailSafeValue</Source>
							</SetVariable>
							<SetVariable>
								<Destination>DataCommand</Destination>
								<Source>FailSafeData</Source>
							</SetVariable>
							<SetVariable>
								<Destination>commFaultReason</Destination>
								<Source>WD_EXPIRED</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="SetFrame">
					<Action>
						<SetFrame Name="t_masterFrame">
							<Command>
								<CommandValue>Reset</CommandValue>
							</Command>
							<SafeData>
								<SafeDataVariable>commFaultReason</SafeDataVariable>
							</SafeData>
							<LastCRC>LastCrc</LastCRC>
							<ConnectionID>
								<UshortValue>0</UshortValue>
							</ConnectionID>
							<SequenceNo>t_masterSeqNo</SequenceNo>
							<OldCRC>OldMasterCrc</OldCRC>
							<New>false</New>
						</SetFrame>
					</Action>
				</TestStep>
				<TestStep Name="SendFrame">
					<Action>
						<SendFrame Name="t_masterFrame"/>
					</Action>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to send FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SetMasterSeqNo">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>t_masterSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="StartWatchdog">
					<Action>
						<StartWd>
							<Watchdog>t_watchdog</Watchdog>
						</StartWd>
					</Action>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="GET_COMM_FAULT_REASON">
			<TestSteps>
				<TestStep Name="SetString">
					<Compares>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.FrameData[1]</Value1>
								<Operator>Lower</Operator>
								<Value2>INVALID_CMD</Value2>
							</Condition>
							<Statement>
								<SetVariables>
									<SetVariable>
										<Destination>t_commFaultReason</Destination>
										<Source>None</Source>
									</SetVariable>
								</SetVariables>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.FrameData[1]</Value1>
								<Operator>Equal</Operator>
								<Value2>INVALID_CMD</Value2>
							</Condition>
							<Statement>
								<SetVariables>
									<SetVariable>
										<Destination>t_commFaultReason</Destination>
										<Source>INVALID_CMD</Source>
									</SetVariable>
								</SetVariables>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.FrameData[1]</Value1>
								<Operator>Equal</Operator>
								<Value2>UNKNOWN_CMD</Value2>
							</Condition>
							<Statement>
								<SetVariables>
									<SetVariable>
										<Destination>t_commFaultReason</Destination>
										<Source>UNKNOWN_CMD</Source>
									</SetVariable>
								</SetVariables>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.FrameData[1]</Value1>
								<Operator>Equal</Operator>
								<Value2>INVALID_CONNID</Value2>
							</Condition>
							<Statement>
								<SetVariables>
									<SetVariable>
										<Destination>t_commFaultReason</Destination>
										<Source>INVALID_CONNID</Source>
									</SetVariable>
								</SetVariables>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.FrameData[1]</Value1>
								<Operator>Equal</Operator>
								<Value2>INVALID_CRC</Value2>
							</Condition>
							<Statement>
								<SetVariables>
									<SetVariable>
										<Destination>t_commFaultReason</Destination>
										<Source>INVALID_CRC</Source>
									</SetVariable>
								</SetVariables>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.FrameData[1]</Value1>
								<Operator>Equal</Operator>
								<Value2>WD_EXPIRED</Value2>
							</Condition>
							<Statement>
								<SetVariables>
									<SetVariable>
										<Destination>t_commFaultReason</Destination>
										<Source>WD_EXPIRED</Source>
									</SetVariable>
								</SetVariables>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.FrameData[1]</Value1>
								<Operator>Equal</Operator>
								<Value2>INVALID_ADDRESS</Value2>
							</Condition>
							<Statement>
								<SetVariables>
									<SetVariable>
										<Destination>t_commFaultReason</Destination>
										<Source>INVALID_ADDRESS</Source>
									</SetVariable>
								</SetVariables>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.FrameData[1]</Value1>
								<Operator>Equal</Operator>
								<Value2>INVALID_DATA</Value2>
							</Condition>
							<Statement>
								<SetVariables>
									<SetVariable>
										<Destination>t_commFaultReason</Destination>
										<Source>INVALID_DATA</Source>
									</SetVariable>
								</SetVariables>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.FrameData[1]</Value1>
								<Operator>Equal</Operator>
								<Value2>INVALID_COMPARA_LEN</Value2>
							</Condition>
							<Statement>
								<SetVariables>
									<SetVariable>
										<Destination>t_commFaultReason</Destination>
										<Source>INVALID_COMPARA_LEN</Source>
									</SetVariable>
								</SetVariables>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.FrameData[1]</Value1>
								<Operator>Equal</Operator>
								<Value2>INVALID_COMPARA</Value2>
							</Condition>
							<Statement>
								<SetVariables>
									<SetVariable>
										<Destination>t_commFaultReason</Destination>
										<Source>INVALID_COMPARA</Source>
									</SetVariable>
								</SetVariables>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.FrameData[1]</Value1>
								<Operator>Equal</Operator>
								<Value2>INVALID_USERPARA_LEN</Value2>
							</Condition>
							<Statement>
								<SetVariables>
									<SetVariable>
										<Destination>t_commFaultReason</Destination>
										<Source>INVALID_USERPARA_LEN</Source>
									</SetVariable>
								</SetVariables>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.FrameData[1]</Value1>
								<Operator>Equal</Operator>
								<Value2>INVALID_USERPARA</Value2>
							</Condition>
							<Statement>
								<SetVariables>
									<SetVariable>
										<Destination>t_commFaultReason</Destination>
										<Source>INVALID_USERPARA</Source>
									</SetVariable>
								</SetVariables>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.FrameData[1]</Value1>
								<Operator>Greater</Operator>
								<Value2>INVALID_USERPARA</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.FrameData[1]</Value1>
								<Operator>Lower</Operator>
								<Value2>INVALID_SAFEPARA</Value2>
							</Condition>
							<Statement>
								<SetVariables>
									<SetVariable>
										<Destination>t_commFaultReason</Destination>
										<Source>UNDEFINED_COMM_FAULT_REASON</Source>
									</SetVariable>
								</SetVariables>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.FrameData[1]</Value1>
								<Operator>GreaterOrEqual</Operator>
								<Value2>INVALID_SAFEPARA</Value2>
							</Condition>
							<Statement>
								<SetVariables>
									<SetVariable>
										<Destination>t_commFaultReason</Destination>
										<Source>INVALID_SAFEPARA</Source>
									</SetVariable>
								</SetVariables>
							</Statement>
						</Compare>
					</Compares>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="PARA_FAIL1">
			<TestSteps>
				<TestStep Name="SetVars">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>OldMasterCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_oldSlaveCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_masterSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_slaveSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>DataCommand</Destination>
								<Source>FailSafeData</Source>
							</SetVariable>
							<SetVariable>
								<Destination>CommFaultReason</Destination>
								<Source>INVALID_CRC</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="SetFrame">
					<Action>
						<SetFrame Name="t_masterFrame">
							<Command>
								<CommandValue>Reset</CommandValue>
							</Command>
							<SafeData>
								<SafeDataVariable>CommFaultReason</SafeDataVariable>
							</SafeData>
							<LastCRC>LastCrc</LastCRC>
							<ConnectionID>
								<UshortValue>0</UshortValue>
							</ConnectionID>
							<SequenceNo>t_masterSeqNo</SequenceNo>
							<OldCRC>OldMasterCrc</OldCRC>
							<New>false</New>
						</SetFrame>
					</Action>
				</TestStep>
				<TestStep Name="SendFrame">
					<Action>
						<SendFrame Name="t_masterFrame"/>
					</Action>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to send FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SetMasterSeqNo">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>t_masterSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="StartWatchdog">
					<Action>
						<StartWd>
							<Watchdog>t_watchdog</Watchdog>
						</StartWd>
					</Action>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="PARA_FAIL2">
			<TestSteps>
				<TestStep Name="SetVars">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>OldMasterCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_oldSlaveCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_masterSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_slaveSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>DataCommand</Destination>
								<Source>FailSafeData</Source>
							</SetVariable>
							<SetVariable>
								<Destination>CommFaultReason</Destination>
								<Source>INVALID_DATA</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="SetFrame">
					<Action>
						<SetFrame Name="t_masterFrame">
							<Command>
								<CommandValue>Reset</CommandValue>
							</Command>
							<SafeData>
								<SafeDataVariable>CommFaultReason</SafeDataVariable>
							</SafeData>
							<LastCRC>LastCrc</LastCRC>
							<ConnectionID>
								<UshortValue>0</UshortValue>
							</ConnectionID>
							<SequenceNo>t_masterSeqNo</SequenceNo>
							<OldCRC>OldMasterCrc</OldCRC>
							<New>false</New>
						</SetFrame>
					</Action>
				</TestStep>
				<TestStep Name="SendFrame">
					<Action>
						<SendFrame Name="t_masterFrame"/>
					</Action>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to send FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SetMasterSeqNo">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>t_masterSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="StartWatchdog">
					<Action>
						<StartWd>
							<Watchdog>t_watchdog</Watchdog>
						</StartWd>
					</Action>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="PARA_FAIL3">
			<TestSteps>
				<TestStep Name="SetVars">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>OldMasterCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_oldSlaveCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_masterSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_slaveSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>DataCommand</Destination>
								<Source>FailSafeData</Source>
							</SetVariable>
							<SetVariable>
								<Destination>CommFaultReason</Destination>
								<Source>INVALID_CONNID</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="SetFrame">
					<Action>
						<SetFrame Name="t_masterFrame">
							<Command>
								<CommandValue>Reset</CommandValue>
							</Command>
							<SafeData>
								<SafeDataVariable>CommFaultReason</SafeDataVariable>
							</SafeData>
							<LastCRC>LastCrc</LastCRC>
							<ConnectionID>
								<UshortValue>0</UshortValue>
							</ConnectionID>
							<SequenceNo>t_masterSeqNo</SequenceNo>
							<OldCRC>OldMasterCrc</OldCRC>
							<New>false</New>
						</SetFrame>
					</Action>
				</TestStep>
				<TestStep Name="SendFrame">
					<Action>
						<SendFrame Name="t_masterFrame"/>
					</Action>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to send FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SetMasterSeqNo">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>t_masterSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="StartWatchdog">
					<Action>
						<StartWd>
							<Watchdog>t_watchdog</Watchdog>
						</StartWd>
					</Action>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="PARA_FAIL4">
			<TestSteps>
				<TestStep Name="SetVars">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>OldMasterCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_oldSlaveCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_masterSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_slaveSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>DataCommand</Destination>
								<Source>FailSafeData</Source>
							</SetVariable>
							<SetVariable>
								<Destination>CommFaultReason</Destination>
								<Source>INVALID_CMD</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="SetFrame">
					<Action>
						<SetFrame Name="t_masterFrame">
							<Command>
								<CommandValue>Reset</CommandValue>
							</Command>
							<SafeData>
								<SafeDataVariable>CommFaultReason</SafeDataVariable>
							</SafeData>
							<LastCRC>LastCrc</LastCRC>
							<ConnectionID>
								<UshortValue>0</UshortValue>
							</ConnectionID>
							<SequenceNo>t_masterSeqNo</SequenceNo>
							<OldCRC>OldMasterCrc</OldCRC>
							<New>false</New>
						</SetFrame>
					</Action>
				</TestStep>
				<TestStep Name="SendFrame">
					<Action>
						<SendFrame Name="t_masterFrame"/>
					</Action>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to send FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SetMasterSeqNo">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>t_masterSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="StartWatchdog">
					<Action>
						<StartWd>
							<Watchdog>t_watchdog</Watchdog>
						</StartWd>
					</Action>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="PARA_FAIL5">
			<TestSteps>
				<TestStep Name="SetVars">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>OldMasterCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_oldSlaveCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_masterSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_slaveSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>DataCommand</Destination>
								<Source>FailSafeData</Source>
							</SetVariable>
							<SetVariable>
								<Destination>CommFaultReason</Destination>
								<Source>UNKNOWN_CMD</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="SetFrame">
					<Action>
						<SetFrame Name="t_masterFrame">
							<Command>
								<CommandValue>Reset</CommandValue>
							</Command>
							<SafeData>
								<SafeDataVariable>CommFaultReason</SafeDataVariable>
							</SafeData>
							<LastCRC>LastCrc</LastCRC>
							<ConnectionID>
								<UshortValue>0</UshortValue>
							</ConnectionID>
							<SequenceNo>t_masterSeqNo</SequenceNo>
							<OldCRC>OldMasterCrc</OldCRC>
							<New>false</New>
						</SetFrame>
					</Action>
				</TestStep>
				<TestStep Name="SendFrame">
					<Action>
						<SendFrame Name="t_masterFrame"/>
					</Action>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to send FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SetMasterSeqNo">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>t_masterSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="StartWatchdog">
					<Action>
						<StartWd>
							<Watchdog>t_watchdog</Watchdog>
						</StartWd>
					</Action>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="PARA_OK">
			<TestSteps>
				<TestStep Name="SetVars">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>t_slaveFrame.Crc0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="SetFrame">
					<Informations1>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="SafeOutputs" Param1="LastCrc" Param2="t_masterSeqNo" Param3="OldMasterCrc" Param4="t_connectionId" Param5="DataCommand">SetFrame(Command {5}, SafeData {0}, LastCrc 0x{1:x4}, ConnectionId 0x{4:x4},  SequenceNo 0x{2:x4}, OldCrc 0x{3:x4}, New true)</Value>
						</Information>
					</Informations1>
					<Action>
						<SetFrame Name="t_masterFrame">
							<Command>
								<CommandVariable>DataCommand</CommandVariable>
							</Command>
							<SafeData>
								<SafeDataVariable>SafeOutputs</SafeDataVariable>
							</SafeData>
							<LastCRC>LastCrc</LastCRC>
							<ConnectionID>
								<ConnectionIdVariable>t_connectionId</ConnectionIdVariable>
							</ConnectionID>
							<SequenceNo>t_masterSeqNo</SequenceNo>
							<OldCRC>OldMasterCrc</OldCRC>
							<New>true</New>
						</SetFrame>
					</Action>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to set FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SendFrame">
					<Action>
						<SendFrame Name="t_masterFrame"/>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_masterFrame.FrameData">Master Frame: {0}</Value>
						</Information>
					</Informations2>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to send FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SetLastCrc">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>t_masterFrame.Crc0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="StartWatchdog">
					<Informations1>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_watchdog" Param1="ElapsedWD">Watchdog = {0} ms, elapsed time: {1} ms</Value>
						</Information>
					</Informations1>
					<Action>
						<StartWd>
							<Watchdog>t_watchdog</Watchdog>
						</StartWd>
					</Action>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="PARA_RESET1">
			<TestSteps>
				<TestStep Name="SetVars">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>OldMasterCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_oldSlaveCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_masterSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_slaveSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>DataCommand</Destination>
								<Source>FailSafeData</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="SetFrame">
					<Informations1>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_masterSessionId" Param1="LastCrc" Param2="t_masterSeqNo" Param3="OldMasterCrc" Param4="0">SetFrame(Command Session, SafeData {0}, LastCrc 0x{1:x4}, ConnectionId 0x{4:x4},  SequenceNo 0x{2:x4}, OldCrc 0x{3:x4}, New false</Value>
						</Information>
					</Informations1>
					<Action>
						<SetFrame Name="t_masterFrame">
							<Command>
								<CommandValue>Session</CommandValue>
							</Command>
							<SafeData>
								<SafeDataVariable>t_masterSessionId</SafeDataVariable>
							</SafeData>
							<LastCRC>LastCrc</LastCRC>
							<ConnectionID>
								<UshortValue>0</UshortValue>
							</ConnectionID>
							<SequenceNo>t_masterSeqNo</SequenceNo>
							<OldCRC>OldMasterCrc</OldCRC>
							<New>false</New>
						</SetFrame>
					</Action>
				</TestStep>
				<TestStep Name="SendFrame">
					<Action>
						<SendFrame Name="t_masterFrame"/>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_masterFrame.FrameData">Master Frame: {0}</Value>
						</Information>
					</Informations2>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to send FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SetLastCrc">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>t_masterFrame.Crc0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_masterFrame.Crc0">LastCrc = 0x{0:x4}</Value>
						</Information>
					</Informations2>
				</TestStep>
				<TestStep Name="SetOldCrc">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>t_oldSlaveCrc</Destination>
								<Source>t_slaveFrame.Crc0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_slaveFrame.Crc0">OldCrc = 0x{0:x4}</Value>
						</Information>
					</Informations2>
				</TestStep>
				<TestStep Name="UpdateBytesToBeSend">
					<Action>
						<UpdateBytesToBeSent BytesToBeSent="BytesToBeSent">
							<BytesSent>2</BytesSent>
						</UpdateBytesToBeSent>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="BytesToBeSent">BytesToBeSent = {0}</Value>
						</Information>
					</Informations2>
				</TestStep>
				<TestStep Name="StartWatchdog">
					<Action>
						<StartWd>
							<Watchdog>t_watchdog</Watchdog>
						</StartWd>
					</Action>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="PARA_RESET2">
			<TestSteps>
				<TestStep Name="SetVars">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>OldMasterCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_oldSlaveCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_masterSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_slaveSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>DataCommand</Destination>
								<Source>FailSafeData</Source>
							</SetVariable>
							<SetVariable>
								<Destination>CommFaultReason</Destination>
								<Source>0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="SetFrame">
					<Action>
						<SetFrame Name="t_masterFrame">
							<Command>
								<CommandValue>Reset</CommandValue>
							</Command>
							<SafeData>
								<SafeDataVariable>CommFaultReason</SafeDataVariable>
							</SafeData>
							<LastCRC>LastCrc</LastCRC>
							<ConnectionID>
								<UshortValue>0</UshortValue>
							</ConnectionID>
							<SequenceNo>t_masterSeqNo</SequenceNo>
							<OldCRC>OldMasterCrc</OldCRC>
							<New>false</New>
						</SetFrame>
					</Action>
				</TestStep>
				<TestStep Name="SendFrame">
					<Action>
						<SendFrame Name="t_masterFrame"/>
					</Action>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to send FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="StartWatchdog">
					<Action>
						<StartWd>
							<Watchdog>t_watchdog</Watchdog>
						</StartWd>
					</Action>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="PARA_STAY1">
			<TestSteps>
				<TestStep Name="SetVars">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>t_slaveFrame.Crc0</Source>
							</SetVariable>
							<SetVariable>
								<Destination DestinationIndex="0">t_safeData</Destination>
								<Source SourceIndex="0">FailSafeValue</Source>
							</SetVariable>
							<SetVariable>
								<Destination DestinationIndex="0">t_safeData</Destination>
								<Source SourceIndex="SafeParaSize-BytesToBeSent">t_safePara</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="SetFrame">
					<Informations1>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_safeData" Param1="LastCrc" Param2="t_masterSeqNo" Param3="OldMasterCrc" Param4="t_connectionId">SetFrame(Command Parameter, SafeData {0:x}, LastCrc 0x{1:x4}, ConnectionId 0x{4:x4},  SequenceNo 0x{2:x4}, OldCrc 0x{3:x4}, New true)</Value>
						</Information>
					</Informations1>
					<Action>
						<SetFrame Name="t_masterFrame">
							<Command>
								<CommandValue>Parameter</CommandValue>
							</Command>
							<SafeData>
								<SafeDataVariable>t_safeData</SafeDataVariable>
							</SafeData>
							<LastCRC>t_slaveFrame.Crc0</LastCRC>
							<ConnectionID>
								<ConnectionIdVariable>t_connectionId</ConnectionIdVariable>
							</ConnectionID>
							<SequenceNo>t_masterSeqNo</SequenceNo>
							<OldCRC>OldMasterCrc</OldCRC>
							<New>true</New>
						</SetFrame>
					</Action>
				</TestStep>
				<TestStep Name="SendFrame">
					<Action>
						<SendFrame Name="t_masterFrame"/>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_masterFrame.FrameData">Master Frame: {0}</Value>
						</Information>
					</Informations2>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to send FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SetLastCrc">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>t_masterFrame.Crc0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_masterFrame.Crc0">LastCrc = 0x{0:x4}</Value>
						</Information>
					</Informations2>
				</TestStep>
				<TestStep Name="UpdateBytesToBeSend">
					<Action>
						<UpdateBytesToBeSent BytesToBeSent="BytesToBeSent">
							<BytesSent>BytesToBeSent</BytesSent>
						</UpdateBytesToBeSent>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="BytesToBeSent">BytesToBeSent = {0}</Value>
						</Information>
					</Informations2>
				</TestStep>
				<TestStep Name="StartWatchdog">
					<Informations1>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_watchdog" Param1="ElapsedWD">Watchdog = {0} ms, elapsed time: {1} ms</Value>
						</Information>
					</Informations1>
					<Action>
						<StartWd>
							<Watchdog>t_watchdog</Watchdog>
						</StartWd>
					</Action>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="PARA_STAY1_INVALID_CONNID">
			<TestSteps>
				<TestStep Name="SetVars">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>t_slaveFrame.Crc0</Source>
							</SetVariable>
							<SetVariable>
								<Destination DestinationIndex="0">t_safeData</Destination>
								<Source SourceIndex="0">FailSafeValue</Source>
							</SetVariable>
							<SetVariable>
								<Destination DestinationIndex="0">t_safeData</Destination>
								<Source SourceIndex="SafeParaSize-BytesToBeSent">t_safePara</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="SetInvalidConnId">
					<Informations1>
						<Information>
							<Type>Output</Type>
							<Value Param0="t_connectionId">Valid ConnId: 0x{0:x4}</Value>
						</Information>
					</Informations1>
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>t_connectionId</Destination>
								<Source>c_connId</Source>
							</SetVariable>
						</SetVariables>
					</Action>
					<Informations2>
						<Information>
							<Type>Output</Type>
							<Value Param0="t_connectionId">Falsified ConnId: 0x{0:x4}</Value>
						</Information>
					</Informations2>
				</TestStep>
				<TestStep Name="SetFrame">
					<Informations1>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_safeData" Param1="LastCrc" Param2="t_masterSeqNo" Param3="OldMasterCrc" Param4="t_connectionId">SetFrame(Command Parameter, SafeData {0:x}, LastCrc 0x{1:x4}, ConnectionId 0x{4:x4},  SequenceNo 0x{2:x4}, OldCrc 0x{3:x4}, New true)</Value>
						</Information>
					</Informations1>
					<Action>
						<SetFrame Name="t_masterFrame">
							<Command>
								<CommandValue>Parameter</CommandValue>
							</Command>
							<SafeData>
								<SafeDataVariable>t_safeData</SafeDataVariable>
							</SafeData>
							<LastCRC>t_slaveFrame.Crc0</LastCRC>
							<ConnectionID>
								<ConnectionIdVariable>t_connectionId</ConnectionIdVariable>
							</ConnectionID>
							<SequenceNo>t_masterSeqNo</SequenceNo>
							<OldCRC>OldMasterCrc</OldCRC>
							<New>true</New>
						</SetFrame>
					</Action>
				</TestStep>
				<TestStep Name="SendFrame">
					<Action>
						<SendFrame Name="t_masterFrame"/>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_masterFrame.FrameData">Master Frame: {0}</Value>
						</Information>
					</Informations2>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to send FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SetLastCrc">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>t_masterFrame.Crc0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_masterFrame.Crc0">LastCrc = 0x{0:x4}</Value>
						</Information>
					</Informations2>
				</TestStep>
				<TestStep Name="UpdateBytesToBeSend">
					<Action>
						<UpdateBytesToBeSent BytesToBeSent="BytesToBeSent">
							<BytesSent>BytesToBeSent</BytesSent>
						</UpdateBytesToBeSent>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="BytesToBeSent">BytesToBeSent = {0}</Value>
						</Information>
					</Informations2>
				</TestStep>
				<TestStep Name="StartWatchdog">
					<Informations1>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_watchdog" Param1="ElapsedWD">Watchdog = {0} ms, elapsed time: {1} ms</Value>
						</Information>
					</Informations1>
					<Action>
						<StartWd>
							<Watchdog>t_watchdog</Watchdog>
						</StartWd>
					</Action>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="PARA_STAY1_INCREMENTED_CRC0">
			<TestSteps>
				<TestStep Name="SetVars">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>t_slaveFrame.Crc0</Source>
							</SetVariable>
							<SetVariable>
								<Destination DestinationIndex="0">t_safeData</Destination>
								<Source SourceIndex="0">FailSafeValue</Source>
							</SetVariable>
							<SetVariable>
								<Destination DestinationIndex="0">t_safeData</Destination>
								<Source SourceIndex="SafeParaSize-BytesToBeSent">t_safePara</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="SetFrame">
					<Informations1>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_safeData" Param1="LastCrc" Param2="t_masterSeqNo" Param3="OldMasterCrc" Param4="t_connectionId">SetFrame(Command Parameter, SafeData {0:x}, LastCrc 0x{1:x4}, ConnectionId 0x{4:x4},  SequenceNo 0x{2:x4}, OldCrc 0x{3:x4}, New true)</Value>
						</Information>
					</Informations1>
					<Action>
						<SetFrame Name="t_masterFrame">
							<Command>
								<CommandValue>Parameter</CommandValue>
							</Command>
							<SafeData>
								<SafeDataVariable>t_safeData</SafeDataVariable>
							</SafeData>
							<LastCRC>t_slaveFrame.Crc0</LastCRC>
							<ConnectionID>
								<ConnectionIdVariable>t_connectionId</ConnectionIdVariable>
							</ConnectionID>
							<SequenceNo>t_masterSeqNo</SequenceNo>
							<OldCRC>OldMasterCrc</OldCRC>
							<New>true</New>
						</SetFrame>
					</Action>
				</TestStep>
				<TestStep Name="SetInvalidCrc0">
					<Informations1>
						<Information>
							<Type>Output</Type>
							<Value Param0="t_masterFrame.Crc0">Valid Crc0 = 0x{0:x4}</Value>
						</Information>
					</Informations1>
					<Action>
						<CallFunction>
							<Reference>INCREMENT_CRC_0</Reference>
						</CallFunction>
					</Action>
					<Informations2>
						<Information>
							<Type>Output</Type>
							<Value Param0="t_masterFrame.Crc0">Falsified Crc0 = 0x{0:x4}</Value>
						</Information>
					</Informations2>
				</TestStep>
				<TestStep Name="SendFrame">
					<Action>
						<SendFrame Name="t_masterFrame"/>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_masterFrame.FrameData">Master Frame: {0}</Value>
						</Information>
					</Informations2>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to send FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SetLastCrc">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>t_masterFrame.Crc0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_masterFrame.Crc0">LastCrc = 0x{0:x4}</Value>
						</Information>
					</Informations2>
				</TestStep>
				<TestStep Name="UpdateBytesToBeSend">
					<Action>
						<UpdateBytesToBeSent BytesToBeSent="BytesToBeSent">
							<BytesSent>BytesToBeSent</BytesSent>
						</UpdateBytesToBeSent>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="BytesToBeSent">BytesToBeSent = {0}</Value>
						</Information>
					</Informations2>
				</TestStep>
				<TestStep Name="StartWatchdog">
					<Informations1>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_watchdog" Param1="ElapsedWD">Watchdog = {0} ms, elapsed time: {1} ms</Value>
						</Information>
					</Informations1>
					<Action>
						<StartWd>
							<Watchdog>t_watchdog</Watchdog>
						</StartWd>
					</Action>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="PARA_STAY1_DECREMENTED_CRC0">
			<TestSteps>
				<TestStep Name="SetVars">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>t_slaveFrame.Crc0</Source>
							</SetVariable>
							<SetVariable>
								<Destination DestinationIndex="0">t_safeData</Destination>
								<Source SourceIndex="0">FailSafeValue</Source>
							</SetVariable>
							<SetVariable>
								<Destination DestinationIndex="0">t_safeData</Destination>
								<Source SourceIndex="SafeParaSize-BytesToBeSent">t_safePara</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="SetFrame">
					<Informations1>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_safeData" Param1="LastCrc" Param2="t_masterSeqNo" Param3="OldMasterCrc" Param4="t_connectionId">SetFrame(Command Parameter, SafeData {0:x}, LastCrc 0x{1:x4}, ConnectionId 0x{4:x4},  SequenceNo 0x{2:x4}, OldCrc 0x{3:x4}, New true)</Value>
						</Information>
					</Informations1>
					<Action>
						<SetFrame Name="t_masterFrame">
							<Command>
								<CommandValue>Parameter</CommandValue>
							</Command>
							<SafeData>
								<SafeDataVariable>t_safeData</SafeDataVariable>
							</SafeData>
							<LastCRC>t_slaveFrame.Crc0</LastCRC>
							<ConnectionID>
								<ConnectionIdVariable>t_connectionId</ConnectionIdVariable>
							</ConnectionID>
							<SequenceNo>t_masterSeqNo</SequenceNo>
							<OldCRC>OldMasterCrc</OldCRC>
							<New>true</New>
						</SetFrame>
					</Action>
				</TestStep>
				<TestStep Name="SetInvalidCrc0">
					<Informations1>
						<Information>
							<Type>Output</Type>
							<Value Param0="t_masterFrame.Crc0">Valid Crc0 = 0x{0:x4}</Value>
						</Information>
					</Informations1>
					<Action>
						<CallFunction>
							<Reference>DECREMENT_CRC_0</Reference>
						</CallFunction>
					</Action>
					<Informations2>
						<Information>
							<Type>Output</Type>
							<Value Param0="t_masterFrame.Crc0">Falsified Crc0 = 0x{0:x4}</Value>
						</Information>
					</Informations2>
				</TestStep>
				<TestStep Name="SendFrame">
					<Action>
						<SendFrame Name="t_masterFrame"/>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_masterFrame.FrameData">Master Frame: {0}</Value>
						</Information>
					</Informations2>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to send FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SetLastCrc">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>t_masterFrame.Crc0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_masterFrame.Crc0">LastCrc = 0x{0:x4}</Value>
						</Information>
					</Informations2>
				</TestStep>
				<TestStep Name="UpdateBytesToBeSend">
					<Action>
						<UpdateBytesToBeSent BytesToBeSent="BytesToBeSent">
							<BytesSent>BytesToBeSent</BytesSent>
						</UpdateBytesToBeSent>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="BytesToBeSent">BytesToBeSent = {0}</Value>
						</Information>
					</Informations2>
				</TestStep>
				<TestStep Name="StartWatchdog">
					<Informations1>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_watchdog" Param1="ElapsedWD">Watchdog = {0} ms, elapsed time: {1} ms</Value>
						</Information>
					</Informations1>
					<Action>
						<StartWd>
							<Watchdog>t_watchdog</Watchdog>
						</StartWd>
					</Action>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="PARA_WD">
			<TestSteps>
				<TestStep Name="SetVars">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>OldMasterCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_oldSlaveCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_masterSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_slaveSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>DataCommand</Destination>
								<Source>FailSafeData</Source>
							</SetVariable>
							<SetVariable>
								<Destination>commFaultReason</Destination>
								<Source>WD_EXPIRED</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="SetFrame">
					<Action>
						<SetFrame Name="t_masterFrame">
							<Command>
								<CommandValue>Reset</CommandValue>
							</Command>
							<SafeData>
								<SafeDataVariable>commFaultReason</SafeDataVariable>
							</SafeData>
							<LastCRC>LastCrc</LastCRC>
							<ConnectionID>
								<UshortValue>0</UshortValue>
							</ConnectionID>
							<SequenceNo>t_masterSeqNo</SequenceNo>
							<OldCRC>OldMasterCrc</OldCRC>
							<New>false</New>
						</SetFrame>
					</Action>
				</TestStep>
				<TestStep Name="SendFrame">
					<Action>
						<SendFrame Name="t_masterFrame"/>
					</Action>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to send FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SetMasterSeqNo">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>t_masterSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="StartWatchdog">
					<Action>
						<StartWd>
							<Watchdog>t_watchdog</Watchdog>
						</StartWd>
					</Action>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="RESET_OK">
			<TestSteps>
				<TestStep Name="SetFrame">
					<Informations1>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_masterSessionId" Param1="LastCrc" Param2="t_masterSeqNo" Param3="OldMasterCrc" Param4="false">SetFrame(Command Session, SafeData {0}, LastCrc 0x{1:x4}, ConnectionId 0,  SequenceNo 0x{2:x4}, OldCrc 0x{3:x4}, New {4})</Value>
						</Information>
					</Informations1>
					<Action>
						<SetFrame Name="t_masterFrame">
							<Command>
								<CommandValue>Session</CommandValue>
							</Command>
							<SafeData>
								<SafeDataVariable>t_masterSessionId</SafeDataVariable>
							</SafeData>
							<LastCRC>LastCrc</LastCRC>
							<ConnectionID>
								<UshortValue>0</UshortValue>
							</ConnectionID>
							<SequenceNo>t_masterSeqNo</SequenceNo>
							<OldCRC>OldMasterCrc</OldCRC>
							<New>false</New>
						</SetFrame>
					</Action>
				</TestStep>
				<TestStep Name="SendFrame">
					<Action>
						<SendFrame Name="t_masterFrame"/>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_masterFrame.FrameData">Master Frame: {0}</Value>
						</Information>
					</Informations2>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to send FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SetLastCrc">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>t_masterFrame.Crc0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_masterFrame.Crc0">LastCrc = 0x{0:x4}</Value>
						</Information>
					</Informations2>
				</TestStep>
				<TestStep Name="SetOldCrc">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>t_oldSlaveCrc</Destination>
								<Source>t_slaveFrame.Crc0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_slaveFrame.Crc0">OldCrc = 0x{0:x4}</Value>
						</Information>
					</Informations2>
				</TestStep>
				<TestStep Name="UpdateBytesToBeSend">
					<Action>
						<UpdateBytesToBeSent BytesToBeSent="BytesToBeSent">
							<BytesSent>2</BytesSent>
						</UpdateBytesToBeSent>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="BytesToBeSent">BytesToBeSent = {0}</Value>
						</Information>
					</Informations2>
				</TestStep>
				<TestStep Name="StartWatchdog">
					<Informations1>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="SafePara.Watchdog" Param1="ElapsedWD">Watchdog = {0} ms, elapsed time: {1} ms</Value>
						</Information>
					</Informations1>
					<Action>
						<StartWd>
							<Watchdog>SafePara.Watchdog</Watchdog>
						</StartWd>
					</Action>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="Reset_OK">
			<TestSteps>
				<TestStep Name="SetIndex">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>SecondSessionFrameSent</Destination>
								<Source>false</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_index</Destination>
								<Source>0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
					<Compares>
						<Compare>
							<Condition>
								<Value1>SafeDataLength</Value1>
								<Operator>NotEqual</Operator>
								<Value2>1</Value2>
							</Condition>
							<Statement>
								<SetVariables>
									<SetVariable>
										<Destination>SecondSessionFrameSent</Destination>
										<Source>true</Source>
									</SetVariable>
								</SetVariables>
							</Statement>
						</Compare>
					</Compares>
				</TestStep>
				<TestStep Name="SetFrame">
					<Informations1>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_masterSessionId" Param1="LastCrc" Param2="t_masterSeqNo" Param3="OldMasterCrc" Param4="false">SetFrame(Command Session, SafeData {0}, LastCrc 0x{1:x4}, ConnectionId 0,  SequenceNo 0x{2:x4}, OldCrc 0x{3:x4}, New {4})</Value>
						</Information>
					</Informations1>
					<Action>
						<SetFrame Name="t_masterFrame">
							<Command>
								<CommandValue>Session</CommandValue>
							</Command>
							<SafeData>
								<SafeDataVariable>t_masterSessionId</SafeDataVariable>
							</SafeData>
							<LastCRC>LastCrc</LastCRC>
							<ConnectionID>
								<UshortValue>0</UshortValue>
							</ConnectionID>
							<SequenceNo>t_masterSeqNo</SequenceNo>
							<OldCRC>OldMasterCrc</OldCRC>
							<New>false</New>
						</SetFrame>
					</Action>
				</TestStep>
				<TestStep Name="SendFrame">
					<Action>
						<SendFrame Name="t_masterFrame"/>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_masterFrame.FrameData">Master Frame: {0}</Value>
						</Information>
					</Informations2>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to send FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SetLastCrc">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>t_masterFrame.Crc0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_masterFrame.Crc0">LastCrc = 0x{0:x4}</Value>
						</Information>
					</Informations2>
				</TestStep>
				<TestStep Name="SetOldCrc">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>t_oldSlaveCrc</Destination>
								<Source>t_slaveFrame.Crc0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_slaveFrame.Crc0">OldCrc = 0x{0:x4}</Value>
						</Information>
					</Informations2>
				</TestStep>
				<TestStep Name="UpdateBytesToBeSend">
					<Action>
						<UpdateBytesToBeSent BytesToBeSent="BytesToBeSent">
							<BytesSent>2</BytesSent>
						</UpdateBytesToBeSent>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="BytesToBeSent">BytesToBeSent = {0}</Value>
						</Information>
					</Informations2>
				</TestStep>
				<TestStep Name="StartWatchdog">
					<Informations1>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_watchdog" Param1="ElapsedWD">Watchdog = {0} ms, elapsed time: {1} ms</Value>
						</Information>
					</Informations1>
					<Action>
						<StartWd>
							<Watchdog>SafePara.Watchdog</Watchdog>
						</StartWd>
					</Action>
				</TestStep>
				<TestStep Name="ReceiveEvent">
					<Event>
						<ReceiveFrame>t_slaveFrame</ReceiveFrame>
					</Event>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_slaveFrame.FrameData">Slave Frame: {0}</Value>
						</Information>
					</Informations2>
				</TestStep>
				<TestStep Name="CheckWatchdog">
					<Event>
						<WatchdogExpired>
							<SetVariables>
								<SetVariable>
									<Destination>t_wdExpired</Destination>
									<Source>true</Source>
								</SetVariable>
							</SetVariables>
						</WatchdogExpired>
					</Event>
					<Compares>
						<Compare>
							<Condition>
								<Value1>t_wdExpired</Value1>
								<Operator>Equal</Operator>
								<Value2>true</Value2>
							</Condition>
							<Statement>
								<SetVariables>
									<SetVariable>
										<Destination>t_wdExpired</Destination>
										<Source>false</Source>
									</SetVariable>
								</SetVariables>
							</Statement>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value Param0="ElapsedWD">Watchdog expired! {0} ms </Value>
									<Id>5</Id>
								</Return>
							</Statement>
						</Compare>
					</Compares>
				</TestStep>
				<TestStep Name="CheckReceivedCrcInSession">
					<Informations1>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_slaveFrame.FrameData" Param1="LastCrc" Param2="t_slaveSeqNo" Param3="t_oldSlaveCrc" Param4="true">IsCrcCorrect(Frame {0}, LastCrc 0x{1:X4}, SeqNo {2}, OldCrc 0x{3:X4}, New {4})</Value>
						</Information>
					</Informations1>
					<Action>
						<IsCrcCorrect ReturnValue="crcCorrect">
							<Frame>t_slaveFrame</Frame>
							<LastCrc>LastCrc</LastCrc>
							<SequenceNo>t_slaveSeqNo</SequenceNo>
							<OldCrc>t_oldSlaveCrc</OldCrc>
							<New>true</New>
						</IsCrcCorrect>
					</Action>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value Param0="t_slaveFrame.Crc0">Invalid Crc0 received ({0:x})</Value>
							<Id>4</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="CopySlaveSessionID">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination DestinationIndex="t_index">t_slaveSessionId</Destination>
								<Source>t_slaveFrame.SafeData</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="CheckSessionConditions">
					<Compares>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>Equal</Operator>
								<Value2>Session</Value2>
							</Condition>
							<Condition>
								<Value1>BytesToBeSent</Value1>
								<Operator>Equal</Operator>
								<Value2>0</Value2>
							</Condition>
							<Condition>
								<Value1>crcCorrect</Value1>
								<Operator>Equal</Operator>
								<Value2>true</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.ConnId</Value1>
								<Operator>Equal</Operator>
								<Value2>t_initUInt16</Value2>
							</Condition>
							<Statement>
								<CallFunction>CHECK_REMAINING_SAFE_DATA_IN_SESSION</CallFunction>
							</Statement>
							<Statement>
								<Return>
									<Type>Success</Type>
									<Value/>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>Equal</Operator>
								<Value2>Session</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.ConnId</Value1>
								<Operator>NotEqual</Operator>
								<Value2>t_initUInt16</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value>Invalid Connection Id received</Value>
									<Id>3</Id>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>Equal</Operator>
								<Value2>Session</Value2>
							</Condition>
							<Condition>
								<Value1>crcCorrect</Value1>
								<Operator>Equal</Operator>
								<Value2>false</Value2>
							</Condition>
							<Condition>
								<Value1>SecondSessionFrameSent</Value1>
								<Operator>Equal</Operator>
								<Value2>true</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value>Invalid Crc received</Value>
									<Id>4</Id>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>Equal</Operator>
								<Value2>Session</Value2>
							</Condition>
							<Condition>
								<Value1>crcCorrect</Value1>
								<Operator>Equal</Operator>
								<Value2>false</Value2>
							</Condition>
							<Condition>
								<Value1>SecondSessionFrameSent</Value1>
								<Operator>Equal</Operator>
								<Value2>false</Value2>
							</Condition>
							<Statement>
								<CallFunction>SESSION_STAY2</CallFunction>
							</Statement>
							<Statement>
								<GotoStep>ReceiveEvent</GotoStep>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>Equal</Operator>
								<Value2>Session</Value2>
							</Condition>
							<Condition>
								<Value1>BytesToBeSent</Value1>
								<Operator>NotEqual</Operator>
								<Value2>0</Value2>
							</Condition>
							<Condition>
								<Value1>crcCorrect</Value1>
								<Operator>Equal</Operator>
								<Value2>true</Value2>
							</Condition>
							<Statement>
								<CallFunction>SESSION_STAY1</CallFunction>
							</Statement>
							<Statement>
								<SetVariables>
									<SetVariable>
										<Destination>t_index</Destination>
										<Source>t_index+SafeDataLength</Source>
									</SetVariable>
								</SetVariables>
							</Statement>
							<Statement>
								<CallFunction>CHECK_REMAINING_SAFE_DATA_IN_SESSION</CallFunction>
							</Statement>
							<Statement>
								<GotoStep>ReceiveEvent</GotoStep>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>Equal</Operator>
								<Value2>Reset</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value>Invalid CMD(Reset) received</Value>
									<Id>1</Id>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>Equal</Operator>
								<Value2>Connection</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value>Invalid CMD(Connection) received</Value>
									<Id>1</Id>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>Equal</Operator>
								<Value2>Parameter</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value>Invalid CMD (Parameter) received</Value>
									<Id>1</Id>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>Equal</Operator>
								<Value2>ProcessData</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Warning</Type>
									<Value>Invalid CMD (ProcessData) received</Value>
									<Id>1</Id>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>Equal</Operator>
								<Value2>FailSafeData</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value>Invalid CMD (FailSafeData) received</Value>
									<Id>1</Id>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>NotEqual</Operator>
								<Value2>Reset</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>NotEqual</Operator>
								<Value2>Session</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>NotEqual</Operator>
								<Value2>Connection</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>NotEqual</Operator>
								<Value2>Parameter</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>NotEqual</Operator>
								<Value2>ProcessData</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>NotEqual</Operator>
								<Value2>FailSafeData</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value Param0="t_slaveFrame.Command">Unknown Cmd received: 0x{0:x2} </Value>
									<Id>2</Id>
								</Return>
							</Statement>
						</Compare>
					</Compares>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="RESET_START">
			<TestSteps>
				<TestStep Name="SetVars">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>OldMasterCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_oldSlaveCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_masterSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_slaveSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>DataCommand</Destination>
								<Source>FailSafeData</Source>
							</SetVariable>
							<SetVariable>
								<Destination>CommFaultReason</Destination>
								<Source>0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="SetFrame">
					<Informations1>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="CommFaultReason" Param1="LastCrc" Param2="t_masterSeqNo" Param3="OldMasterCrc" Param4="true">SetFrame(Command Reset, SafeData {0}, LastCrc 0x{1:x4}, ConnectionId 0,  SequenceNo 0x{2:x4}, OldCrc 0x{3:x4}, New {4})</Value>
						</Information>
					</Informations1>
					<Action>
						<SetFrame Name="t_masterFrame">
							<Command>
								<CommandValue>Reset</CommandValue>
							</Command>
							<SafeData>
								<SafeDataVariable>CommFaultReason</SafeDataVariable>
							</SafeData>
							<LastCRC>LastCrc</LastCRC>
							<ConnectionID>
								<UshortValue>0</UshortValue>
							</ConnectionID>
							<SequenceNo>t_masterSeqNo</SequenceNo>
							<OldCRC>OldMasterCrc</OldCRC>
							<New>true</New>
						</SetFrame>
					</Action>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to set FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SendFrame">
					<Informations1>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_masterFrame.FrameData">Master Frame: {0}</Value>
						</Information>
					</Informations1>
					<Action>
						<SendFrame Name="t_masterFrame"/>
					</Action>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to send FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SetMasterSeqNo">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>t_masterSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="StartWatchdog">
					<Informations1>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_watchdog" Param1="ElapsedWD">Watchdog = {0} ms, elapsed time: {1} ms</Value>
						</Information>
					</Informations1>
					<Action>
						<StartWd>
							<Watchdog>t_watchdog</Watchdog>
						</StartWd>
					</Action>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="RESET_STAY1">
			<TestSteps>
				<TestStep Name="SetVars">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>OldMasterCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_oldSlaveCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_masterSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_slaveSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>DataCommand</Destination>
								<Source>FailSafeData</Source>
							</SetVariable>
							<SetVariable>
								<Destination>CommFaultReason</Destination>
								<Source>0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="SetFrame">
					<Action>
						<SetFrame Name="t_masterFrame">
							<Command>
								<CommandValue>Reset</CommandValue>
							</Command>
							<SafeData>
								<SafeDataVariable>CommFaultReason</SafeDataVariable>
							</SafeData>
							<LastCRC>LastCrc</LastCRC>
							<ConnectionID>
								<UshortValue>0</UshortValue>
							</ConnectionID>
							<SequenceNo>t_masterSeqNo</SequenceNo>
							<OldCRC>OldMasterCrc</OldCRC>
							<New>false</New>
						</SetFrame>
					</Action>
				</TestStep>
				<TestStep Name="SendFrame">
					<Action>
						<SendFrame Name="t_masterFrame"/>
					</Action>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to send FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SetMasterSeqNo">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>t_masterSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="RESET_WD">
			<TestSteps>
				<TestStep Name="SetResetSeqNo">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>t_resetSessionId</Destination>
								<Source>47802</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="SetFrame">
					<Informations1>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_masterSessionId" Param1="LastCrc" Param2="t_masterSeqNo" Param3="OldMasterCrc" Param4="0">SetFrame(Command Session, SafeData {0}, LastCrc 0x{1:x4}, ConnectionId 0x{4:x4},  SequenceNo 0x{2:x4}, OldCrc 0x{3:x4}, New true</Value>
						</Information>
					</Informations1>
					<Action>
						<SetFrame Name="t_masterFrame">
							<Command>
								<CommandValue>Session</CommandValue>
							</Command>
							<SafeData>
								<SafeDataVariable>t_resetSessionId</SafeDataVariable>
							</SafeData>
							<LastCRC>LastCrc</LastCRC>
							<ConnectionID>
								<UshortValue>0</UshortValue>
							</ConnectionID>
							<SequenceNo>t_masterSeqNo</SequenceNo>
							<OldCRC>OldMasterCrc</OldCRC>
							<New>false</New>
						</SetFrame>
					</Action>
				</TestStep>
				<TestStep Name="SendFrame">
					<Action>
						<SendFrame Name="t_masterFrame"/>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_masterFrame.FrameData">Master Frame: {0}</Value>
						</Information>
					</Informations2>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to send FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SetLastCrc">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>t_masterFrame.Crc0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_masterFrame.Crc0">LastCrc = 0x{0:x4}</Value>
						</Information>
					</Informations2>
				</TestStep>
				<TestStep Name="UpdateBytesToBeSend">
					<Action>
						<UpdateBytesToBeSent BytesToBeSent="BytesToBeSent">
							<BytesSent>2</BytesSent>
						</UpdateBytesToBeSent>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="BytesToBeSent">BytesToBeSent = {0}</Value>
						</Information>
					</Informations2>
				</TestStep>
				<TestStep Name="StartWatchdog">
					<Informations1>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="SafePara.Watchdog" Param1="ElapsedWD">Watchdog = {0} ms, elapsed {1} ms</Value>
						</Information>
					</Informations1>
					<Action>
						<StartWd>
							<Watchdog>SafePara.Watchdog</Watchdog>
						</StartWd>
					</Action>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="RUN_DUT_TO_CONNECTION">
			<TestSteps>
				<TestStep Name="GoToSession">
					<Action>
						<CallFunction>
							<Reference>RUN_DUT_TO_SESSION</Reference>
						</CallFunction>
					</Action>
				</TestStep>
				<TestStep Name="CallSessionOk">
					<Action>
						<CallFunction>
							<Reference>SESSION_OK</Reference>
						</CallFunction>
					</Action>
				</TestStep>
				<TestStep Name="ReceiveEvent">
					<Event>
						<ReceiveFrame>t_slaveFrame</ReceiveFrame>
					</Event>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_slaveFrame.FrameData">Slave Frame: {0}</Value>
						</Information>
					</Informations2>
				</TestStep>
				<TestStep Name="CheckWatchdog">
					<Event>
						<WatchdogExpired>
							<Return>
								<Type>Error</Type>
								<Value Param0="ElapsedWD">Watchdog expired! {0} ms </Value>
								<Id>5</Id>
							</Return>
						</WatchdogExpired>
					</Event>
				</TestStep>
				<TestStep Name="CheckSafeDataInConnection">
					<Action>
						<IsSafeDataCorrect ReturnValue="safeDataCorrect">
							<Frame>t_slaveFrame</Frame>
							<ExpectedData>t_connData</ExpectedData>
							<BytesSent>4-BytesToBeSent</BytesSent>
						</IsSafeDataCorrect>
					</Action>
				</TestStep>
				<TestStep Name="CheckReceivedCrcInConnection">
					<Informations1>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_slaveFrame.FrameData" Param1="LastCrc" Param2="t_slaveSeqNo" Param3="t_oldSlaveCrc" Param4="true">IsCrcCorrect(Frame {0}, LastCrc 0x{1:X4}, SeqNo {2}, OldCrc 0x{3:X4}, New {4})</Value>
						</Information>
					</Informations1>
					<Action>
						<IsCrcCorrect ReturnValue="crcCorrect">
							<Frame>t_slaveFrame</Frame>
							<LastCrc>LastCrc</LastCrc>
							<SequenceNo>t_slaveSeqNo</SequenceNo>
							<OldCrc>t_oldSlaveCrc</OldCrc>
							<New>true</New>
						</IsCrcCorrect>
					</Action>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value Param0="t_slaveFrame.Crc0">Invalid Crc0 reveived ({0:x})</Value>
							<Id>4</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="CheckConnectionCondition">
					<Compares>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>Equal</Operator>
								<Value2>Connection</Value2>
							</Condition>
							<Condition>
								<Value1>BytesToBeSent</Value1>
								<Operator>Equal</Operator>
								<Value2>0</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.ConnId</Value1>
								<Operator>Equal</Operator>
								<Value2>t_connectionId</Value2>
							</Condition>
							<Condition>
								<Value1>safeDataCorrect</Value1>
								<Operator>Equal</Operator>
								<Value2>true</Value2>
							</Condition>
							<Condition>
								<Value1>crcCorrect</Value1>
								<Operator>Equal</Operator>
								<Value2>true</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Output</Type>
									<Value>DUT State: Connection</Value>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>Equal</Operator>
								<Value2>Connection</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.ConnId</Value1>
								<Operator>Equal</Operator>
								<Value2>t_connectionId</Value2>
							</Condition>
							<Condition>
								<Value1>safeDataCorrect</Value1>
								<Operator>Equal</Operator>
								<Value2>true</Value2>
							</Condition>
							<Condition>
								<Value1>crcCorrect</Value1>
								<Operator>Equal</Operator>
								<Value2>false</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value>Invalid Crc received</Value>
									<Id>4</Id>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>Equal</Operator>
								<Value2>Connection</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.ConnId</Value1>
								<Operator>Equal</Operator>
								<Value2>t_connectionId</Value2>
							</Condition>
							<Condition>
								<Value1>safeDataCorrect</Value1>
								<Operator>Equal</Operator>
								<Value2>false</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value Param0="t_slaveFrame.ConnId" Param1="ConnData.ConnId">Invalid SafeData received, FrameConnId: {0:x4}, Connection Data{1:x4}</Value>
									<Id>7</Id>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>Equal</Operator>
								<Value2>Connection</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.ConnId</Value1>
								<Operator>NotEqual</Operator>
								<Value2>t_connectionId</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value>Invalid Connection Id received</Value>
									<Id>3</Id>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>Equal</Operator>
								<Value2>Connection</Value2>
							</Condition>
							<Condition>
								<Value1>BytesToBeSent</Value1>
								<Operator>NotEqual</Operator>
								<Value2>0</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.ConnId</Value1>
								<Operator>Equal</Operator>
								<Value2>t_connectionId</Value2>
							</Condition>
							<Condition>
								<Value1>safeDataCorrect</Value1>
								<Operator>Equal</Operator>
								<Value2>true</Value2>
							</Condition>
							<Condition>
								<Value1>crcCorrect</Value1>
								<Operator>Equal</Operator>
								<Value2>true</Value2>
							</Condition>
							<Statement>
								<CallFunction>CONN_STAY1</CallFunction>
							</Statement>
							<Statement>
								<GotoStep>ReceiveEvent</GotoStep>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>Equal</Operator>
								<Value2>Reset</Value2>
							</Condition>
							<Statement>
								<CallFunction>GET_COMM_FAULT_REASON</CallFunction>
							</Statement>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value Param0="t_commFaultReason">Reset Cmd received , CommFaultReason: {0}</Value>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>Equal</Operator>
								<Value2>Session</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value>Invalid CMD (Session) received</Value>
									<Id>1</Id>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>Equal</Operator>
								<Value2>Parameter</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value>Invalid CMD (Parameter) received</Value>
									<Id>1</Id>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>Equal</Operator>
								<Value2>ProcessData</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value>Invalid CMD (ProcessData) received</Value>
									<Id>1</Id>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>Equal</Operator>
								<Value2>FailSafeData</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value>Invalid CMD (FailSafeData) received</Value>
									<Id>1</Id>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>NotEqual</Operator>
								<Value2>Reset</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>NotEqual</Operator>
								<Value2>Session</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>NotEqual</Operator>
								<Value2>Connection</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>NotEqual</Operator>
								<Value2>Parameter</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>NotEqual</Operator>
								<Value2>ProcessData</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>NotEqual</Operator>
								<Value2>FailSafeData</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value>Unknown CMD received</Value>
									<Id>2</Id>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>1</Value1>
								<Operator>Equal</Operator>
								<Value2>1</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value>General state machine error!</Value>
								</Return>
							</Statement>
						</Compare>
					</Compares>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="RUN_DUT_TO_DATA">
			<TestSteps>
				<TestStep Name="GoToParameter">
					<Action>
						<CallFunction>
							<Reference>RUN_DUT_TO_PARAMETER</Reference>
						</CallFunction>
					</Action>
				</TestStep>
				<TestStep Name="CallParaOk">
					<Action>
						<CallFunction>
							<Reference>PARA_OK</Reference>
						</CallFunction>
					</Action>
				</TestStep>
				<TestStep Name="ReceiveEvent">
					<Event>
						<ReceiveFrame>t_slaveFrame</ReceiveFrame>
					</Event>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_slaveFrame.FrameData">Slave Frame: {0}</Value>
						</Information>
					</Informations2>
				</TestStep>
				<TestStep Name="CheckWatchdog">
					<Event>
						<WatchdogExpired>
							<Return>
								<Type>Error</Type>
								<Value Param0="ElapsedWD">Watchdog expired!  {0} ms</Value>
								<Id>5</Id>
							</Return>
						</WatchdogExpired>
					</Event>
				</TestStep>
				<TestStep Name="CheckReceivedCrc">
					<Informations1>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_slaveFrame.FrameData" Param1="LastCrc" Param2="t_slaveSeqNo" Param3="t_oldSlaveCrc" Param4="true">IsCrcCorrect(Frame {0}, LastCrc 0x{1:X4}, SeqNo {2}, OldCrc 0x{3:X4}, New {4})</Value>
						</Information>
					</Informations1>
					<Action>
						<IsCrcCorrect ReturnValue="crcCorrect">
							<Frame>t_slaveFrame</Frame>
							<LastCrc>LastCrc</LastCrc>
							<SequenceNo>t_slaveSeqNo</SequenceNo>
							<OldCrc>t_oldSlaveCrc</OldCrc>
							<New>true</New>
						</IsCrcCorrect>
					</Action>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value Param0="t_slaveFrame.Crc0">Invalid Crc0 reveived ({0:x})</Value>
							<Id>4</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="CheckDataCondition">
					<Compares>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>Equal</Operator>
								<Value2>ProcessData</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.ConnId</Value1>
								<Operator>Equal</Operator>
								<Value2>t_connectionId</Value2>
							</Condition>
							<Condition>
								<Value1>crcCorrect</Value1>
								<Operator>Equal</Operator>
								<Value2>true</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Output</Type>
									<Value>DUT State: ProcessData</Value>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>Equal</Operator>
								<Value2>FailSafeData</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.ConnId</Value1>
								<Operator>Equal</Operator>
								<Value2>t_connectionId</Value2>
							</Condition>
							<Condition>
								<Value1>crcCorrect</Value1>
								<Operator>Equal</Operator>
								<Value2>true</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Output</Type>
									<Value>DUT State: FailSafeData</Value>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>Equal</Operator>
								<Value2>ProcessData</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.ConnId</Value1>
								<Operator>Equal</Operator>
								<Value2>t_connectionId</Value2>
							</Condition>
							<Condition>
								<Value1>crcCorrect</Value1>
								<Operator>Equal</Operator>
								<Value2>false</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value>Invalid Crc received</Value>
									<Id>4</Id>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>Equal</Operator>
								<Value2>ProcessData</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.ConnId</Value1>
								<Operator>NotEqual</Operator>
								<Value2>t_connectionId</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value>Invalid Connection Id received</Value>
									<Id>3</Id>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>Equal</Operator>
								<Value2>FailSafeData</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.ConnId</Value1>
								<Operator>NotEqual</Operator>
								<Value2>t_connectionId</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value>Invalid Connection Id received||Back to Reset</Value>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>Equal</Operator>
								<Value2>Reset</Value2>
							</Condition>
							<Statement>
								<CallFunction>GET_COMM_FAULT_REASON</CallFunction>
							</Statement>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value Param0="t_commFaultReason">Reset Cmd received , CommFaultReason: {0}</Value>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>Equal</Operator>
								<Value2>Session</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value>Invalid Session Cmd received</Value>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>Equal</Operator>
								<Value2>Connection</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value>Invalid Connection Cmd received</Value>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>Equal</Operator>
								<Value2>Parameter</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value>Invalid Parameter Cmd received</Value>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>NotEqual</Operator>
								<Value2>Reset</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>NotEqual</Operator>
								<Value2>Session</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>NotEqual</Operator>
								<Value2>Connection</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>NotEqual</Operator>
								<Value2>Parameter</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>NotEqual</Operator>
								<Value2>ProcessData</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>NotEqual</Operator>
								<Value2>FailSafeData</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value>Unknown CMD received</Value>
									<Id>2</Id>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>1</Value1>
								<Operator>Equal</Operator>
								<Value2>1</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value>General state machine error!</Value>
								</Return>
							</Statement>
						</Compare>
					</Compares>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="RUN_DUT_TO_PROCESSDATA">
			<TestSteps>
				<TestStep Name="GoToParameter">
					<Action>
						<CallFunction>
							<Reference>RUN_DUT_TO_PARAMETER</Reference>
						</CallFunction>
					</Action>
				</TestStep>
				<TestStep Name="SetDataCommand">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>DataCommand</Destination>
								<Source>ProcessData</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="CallParaOk">
					<Action>
						<CallFunction>
							<Reference>PARA_OK</Reference>
						</CallFunction>
					</Action>
				</TestStep>
				<TestStep Name="ReceiveEvent">
					<Event>
						<ReceiveFrame>t_slaveFrame</ReceiveFrame>
					</Event>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_slaveFrame.FrameData">Slave Frame: {0}</Value>
						</Information>
					</Informations2>
				</TestStep>
				<TestStep Name="CheckWatchdog">
					<Event>
						<WatchdogExpired>
							<Return>
								<Type>Error</Type>
								<Value Param0="ElapsedWD">Watchdog expired!  {0} ms</Value>
								<Id>5</Id>
							</Return>
						</WatchdogExpired>
					</Event>
				</TestStep>
				<TestStep Name="CheckReceivedCrc">
					<Informations1>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_slaveFrame.FrameData" Param1="LastCrc" Param2="t_slaveSeqNo" Param3="t_oldSlaveCrc" Param4="true">IsCrcCorrect(Frame {0}, LastCrc 0x{1:X4}, SeqNo {2}, OldCrc 0x{3:X4}, New {4})</Value>
						</Information>
					</Informations1>
					<Action>
						<IsCrcCorrect ReturnValue="crcCorrect">
							<Frame>t_slaveFrame</Frame>
							<LastCrc>LastCrc</LastCrc>
							<SequenceNo>t_slaveSeqNo</SequenceNo>
							<OldCrc>t_oldSlaveCrc</OldCrc>
							<New>true</New>
						</IsCrcCorrect>
					</Action>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value Param0="t_slaveFrame.Crc0">Invalid Crc0 reveived ({0:x})</Value>
							<Id>4</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="CheckDataCondition">
					<Compares>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>Equal</Operator>
								<Value2>ProcessData</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.ConnId</Value1>
								<Operator>Equal</Operator>
								<Value2>t_connectionId</Value2>
							</Condition>
							<Condition>
								<Value1>crcCorrect</Value1>
								<Operator>Equal</Operator>
								<Value2>true</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Output</Type>
									<Value>DUT State: ProcessData</Value>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>Equal</Operator>
								<Value2>FailSafeData</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.ConnId</Value1>
								<Operator>Equal</Operator>
								<Value2>t_connectionId</Value2>
							</Condition>
							<Condition>
								<Value1>crcCorrect</Value1>
								<Operator>Equal</Operator>
								<Value2>true</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Output</Type>
									<Value>DUT State: FailSafeData</Value>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>Equal</Operator>
								<Value2>ProcessData</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.ConnId</Value1>
								<Operator>Equal</Operator>
								<Value2>t_connectionId</Value2>
							</Condition>
							<Condition>
								<Value1>crcCorrect</Value1>
								<Operator>Equal</Operator>
								<Value2>false</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value>Invalid Crc received</Value>
									<Id>4</Id>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>Equal</Operator>
								<Value2>ProcessData</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.ConnId</Value1>
								<Operator>NotEqual</Operator>
								<Value2>t_connectionId</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value>Invalid Connection Id received</Value>
									<Id>3</Id>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>Equal</Operator>
								<Value2>FailSafeData</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.ConnId</Value1>
								<Operator>NotEqual</Operator>
								<Value2>t_connectionId</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value>Invalid Connection Id received||Back to Reset</Value>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>Equal</Operator>
								<Value2>Reset</Value2>
							</Condition>
							<Statement>
								<CallFunction>GET_COMM_FAULT_REASON</CallFunction>
							</Statement>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value Param0="t_commFaultReason">Reset Cmd received , CommFaultReason: {0}</Value>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>Equal</Operator>
								<Value2>Session</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value>Invalid Session Cmd received</Value>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>Equal</Operator>
								<Value2>Connection</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value>Invalid Connection Cmd received</Value>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>Equal</Operator>
								<Value2>Parameter</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value>Invalid Parameter Cmd received</Value>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>NotEqual</Operator>
								<Value2>Reset</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>NotEqual</Operator>
								<Value2>Session</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>NotEqual</Operator>
								<Value2>Connection</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>NotEqual</Operator>
								<Value2>Parameter</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>NotEqual</Operator>
								<Value2>ProcessData</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>NotEqual</Operator>
								<Value2>FailSafeData</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value>Unknown CMD received</Value>
									<Id>2</Id>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>1</Value1>
								<Operator>Equal</Operator>
								<Value2>1</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value>General state machine error!</Value>
								</Return>
							</Statement>
						</Compare>
					</Compares>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="RUN_DUT_TO_PARAMETER">
			<TestSteps>
				<TestStep Name="GoToConnection">
					<Action>
						<CallFunction>
							<Reference>RUN_DUT_TO_CONNECTION</Reference>
						</CallFunction>
					</Action>
				</TestStep>
				<TestStep Name="CallConnectionOk">
					<Action>
						<CallFunction>
							<Reference>CONN_OK</Reference>
						</CallFunction>
					</Action>
				</TestStep>
				<TestStep Name="ReceiveEvent">
					<Event>
						<ReceiveFrame>t_slaveFrame</ReceiveFrame>
					</Event>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_slaveFrame.FrameData">Slave Frame: {0}</Value>
						</Information>
					</Informations2>
				</TestStep>
				<TestStep Name="CheckWatchdog">
					<Event>
						<WatchdogExpired>
							<Return>
								<Type>Error</Type>
								<Value Param0="ElapsedWD">Watchdog expired!  {0} ms</Value>
								<Id>5</Id>
							</Return>
						</WatchdogExpired>
					</Event>
				</TestStep>
				<TestStep Name="CheckSafeData">
					<Action>
						<IsSafeDataCorrect ReturnValue="safeDataCorrect">
							<Frame>t_slaveFrame</Frame>
							<ExpectedData>t_safePara</ExpectedData>
							<BytesSent>SafeParaSize-BytesToBeSent</BytesSent>
						</IsSafeDataCorrect>
					</Action>
				</TestStep>
				<TestStep Name="CheckReceivedCrc">
					<Informations1>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_slaveFrame.FrameData" Param1="LastCrc" Param2="t_slaveSeqNo" Param3="t_oldSlaveCrc" Param4="true">IsCrcCorrect(Frame {0}, LastCrc 0x{1:X4}, SeqNo {2}, OldCrc 0x{3:X4}, New {4})</Value>
						</Information>
					</Informations1>
					<Action>
						<IsCrcCorrect ReturnValue="crcCorrect">
							<Frame>t_slaveFrame</Frame>
							<LastCrc>LastCrc</LastCrc>
							<SequenceNo>t_slaveSeqNo</SequenceNo>
							<OldCrc>t_oldSlaveCrc</OldCrc>
							<New>true</New>
						</IsCrcCorrect>
					</Action>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value Param0="t_slaveFrame.Crc0">Invalid Crc0 reveived ({0:x})</Value>
							<Id>4</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="CheckParameterCondition">
					<Compares>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>Equal</Operator>
								<Value2>Parameter</Value2>
							</Condition>
							<Condition>
								<Value1>BytesToBeSent</Value1>
								<Operator>Equal</Operator>
								<Value2>0</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.ConnId</Value1>
								<Operator>Equal</Operator>
								<Value2>t_connectionId</Value2>
							</Condition>
							<Condition>
								<Value1>safeDataCorrect</Value1>
								<Operator>Equal</Operator>
								<Value2>true</Value2>
							</Condition>
							<Condition>
								<Value1>crcCorrect</Value1>
								<Operator>Equal</Operator>
								<Value2>true</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Output</Type>
									<Value>DUT State: Parameter</Value>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>Equal</Operator>
								<Value2>Parameter</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.ConnId</Value1>
								<Operator>Equal</Operator>
								<Value2>t_connectionId</Value2>
							</Condition>
							<Condition>
								<Value1>safeDataCorrect</Value1>
								<Operator>Equal</Operator>
								<Value2>true</Value2>
							</Condition>
							<Condition>
								<Value1>crcCorrect</Value1>
								<Operator>Equal</Operator>
								<Value2>false</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value>Invalid Crc received</Value>
									<Id>4</Id>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>Equal</Operator>
								<Value2>Parameter</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.ConnId</Value1>
								<Operator>Equal</Operator>
								<Value2>t_connectionId</Value2>
							</Condition>
							<Condition>
								<Value1>safeDataCorrect</Value1>
								<Operator>Equal</Operator>
								<Value2>false</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value>Invalid SafeData received</Value>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>Equal</Operator>
								<Value2>Parameter</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.ConnId</Value1>
								<Operator>NotEqual</Operator>
								<Value2>t_connectionId</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value>Invalid Connection Id received</Value>
									<Id>3</Id>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>Equal</Operator>
								<Value2>Parameter</Value2>
							</Condition>
							<Condition>
								<Value1>BytesToBeSent</Value1>
								<Operator>NotEqual</Operator>
								<Value2>0</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.ConnId</Value1>
								<Operator>Equal</Operator>
								<Value2>t_connectionId</Value2>
							</Condition>
							<Condition>
								<Value1>safeDataCorrect</Value1>
								<Operator>Equal</Operator>
								<Value2>true</Value2>
							</Condition>
							<Condition>
								<Value1>crcCorrect</Value1>
								<Operator>Equal</Operator>
								<Value2>true</Value2>
							</Condition>
							<Statement>
								<CallFunction>PARA_STAY1</CallFunction>
							</Statement>
							<Statement>
								<GotoStep>ReceiveEvent</GotoStep>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>Equal</Operator>
								<Value2>Reset</Value2>
							</Condition>
							<Statement>
								<CallFunction>GET_COMM_FAULT_REASON</CallFunction>
							</Statement>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value Param0="t_commFaultReason">Reset Cmd received , CommFaultReason: {0}</Value>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>Equal</Operator>
								<Value2>Session</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value>Session Cmd received</Value>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>Equal</Operator>
								<Value2>Connection</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value>Connection Cmd received</Value>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>Equal</Operator>
								<Value2>ProcessData</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value>ProcessData Cmd received</Value>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>Equal</Operator>
								<Value2>FailSafeData</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value>FailSafeData Cmd received</Value>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>NotEqual</Operator>
								<Value2>Reset</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>NotEqual</Operator>
								<Value2>Session</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>NotEqual</Operator>
								<Value2>Connection</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>NotEqual</Operator>
								<Value2>Parameter</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>NotEqual</Operator>
								<Value2>ProcessData</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>NotEqual</Operator>
								<Value2>FailSafeData</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value>Unknown CMD received</Value>
									<Id>2</Id>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>1</Value1>
								<Operator>Equal</Operator>
								<Value2>1</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value>General state machine error!</Value>
								</Return>
							</Statement>
						</Compare>
					</Compares>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="RUN_DUT_TO_RESET">
			<TestSteps>
				<TestStep Name="SetTempUint16">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>t_initUInt16</Destination>
								<Source>0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="Start">
					<Action>
						<CallFunction>
							<Reference>RESET_START</Reference>
						</CallFunction>
					</Action>
				</TestStep>
				<TestStep Name="ReceiveEvent">
					<Event>
						<ReceiveFrame>t_slaveFrame</ReceiveFrame>
					</Event>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_slaveFrame.FrameData">Slave Frame: {0}</Value>
						</Information>
					</Informations2>
				</TestStep>
				<TestStep Name="CheckWatchdog">
					<Event>
						<WatchdogExpired>
							<SetVariables>
								<SetVariable>
									<Destination>t_wdExpired</Destination>
									<Source>true</Source>
								</SetVariable>
							</SetVariables>
						</WatchdogExpired>
					</Event>
				</TestStep>
				<TestStep Name="CheckResetConditions">
					<Compares>
						<Compare>
							<Condition>
								<Value1>t_watchdogExpiredCount</Value1>
								<Operator>GreaterOrEqual</Operator>
								<Value2>10</Value2>
							</Condition>
							<Statement>
								<SetVariables>
									<SetVariable>
										<Destination>t_wdExpired</Destination>
										<Source>false</Source>
									</SetVariable>
								</SetVariables>
							</Statement>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value>Failed to reset DUT</Value>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_wdExpired</Value1>
								<Operator>Equal</Operator>
								<Value2>true</Value2>
							</Condition>
							<Statement>
								<SetVariables>
									<SetVariable>
										<Destination>t_wdExpired</Destination>
										<Source>false</Source>
									</SetVariable>
								</SetVariables>
							</Statement>
							<Statement>
								<SetVariables>
									<SetVariable>
										<Destination>t_watchdogExpiredCount</Destination>
										<Source>t_watchdogExpiredCount+1</Source>
									</SetVariable>
								</SetVariables>
							</Statement>
							<Statement>
								<Information>
									<Type>Output</Type>
									<Value Param0="ElapsedWD">Watchdog expired!({0} ms) ==> RESET_WD</Value>
								</Information>
							</Statement>
							<Statement>
								<CallFunction>RESET_WD</CallFunction>
							</Statement>
							<Statement>
								<GotoStep>ReceiveEvent</GotoStep>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>NotEqual</Operator>
								<Value2>Reset</Value2>
							</Condition>
							<Statement>
								<CallFunction>RESET_STAY1</CallFunction>
							</Statement>
							<Statement>
								<GotoStep>ReceiveEvent</GotoStep>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.ConnId</Value1>
								<Operator>NotEqual</Operator>
								<Value2>t_initUInt16</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value>Invalid Connection Id received</Value>
									<Id>3</Id>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.SafeData[0]</Value1>
								<Operator>NotEqual</Operator>
								<Value2>c_tmpByte</Value2>
							</Condition>
							<Statement>
								<Information>
									<Type>Output</Type>
									<Value Param0="t_slaveFrame.SafeData">Invalid Data in Reset received: {0} ==> ReceivedEvent</Value>
								</Information>
							</Statement>
							<Statement>
								<GotoStep>ReceiveEvent</GotoStep>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.SafeData[0]</Value1>
								<Operator>Equal</Operator>
								<Value2>c_tmpByte</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Output</Type>
									<Value>DUT State: Reset</Value>
								</Return>
							</Statement>
						</Compare>
					</Compares>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="RUN_DUT_TO_SESSION">
			<TestSteps>
				<TestStep Name="GoToReset">
					<Action>
						<CallFunction>
							<Reference>RUN_DUT_TO_RESET</Reference>
						</CallFunction>
					</Action>
				</TestStep>
				<TestStep Name="SetIndex">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>SecondSessionFrameSent</Destination>
								<Source>false</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_index</Destination>
								<Source>0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
					<Compares>
						<Compare>
							<Condition>
								<Value1>SafeDataLength</Value1>
								<Operator>NotEqual</Operator>
								<Value2>1</Value2>
							</Condition>
							<Statement>
								<SetVariables>
									<SetVariable>
										<Destination>SecondSessionFrameSent</Destination>
										<Source>true</Source>
									</SetVariable>
								</SetVariables>
							</Statement>
						</Compare>
					</Compares>
				</TestStep>
				<TestStep Name="CallResetOk">
					<Action>
						<CallFunction>
							<Reference>RESET_OK</Reference>
						</CallFunction>
					</Action>
				</TestStep>
				<TestStep Name="ReceiveEvent">
					<Event>
						<ReceiveFrame>t_slaveFrame</ReceiveFrame>
					</Event>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_slaveFrame.FrameData">Slave Frame: {0}</Value>
						</Information>
					</Informations2>
				</TestStep>
				<TestStep Name="CheckWatchdog">
					<Event>
						<WatchdogExpired>
							<SetVariables>
								<SetVariable>
									<Destination>t_wdExpired</Destination>
									<Source>true</Source>
								</SetVariable>
							</SetVariables>
						</WatchdogExpired>
					</Event>
					<Compares>
						<Compare>
							<Condition>
								<Value1>t_wdExpired</Value1>
								<Operator>Equal</Operator>
								<Value2>true</Value2>
							</Condition>
							<Statement>
								<SetVariables>
									<SetVariable>
										<Destination>t_wdExpired</Destination>
										<Source>false</Source>
									</SetVariable>
								</SetVariables>
							</Statement>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value Param0="ElapsedWD">Watchdog expired! {0} ms </Value>
									<Id>5</Id>
								</Return>
							</Statement>
						</Compare>
					</Compares>
				</TestStep>
				<TestStep Name="CheckReceivedCrc">
					<Informations1>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_slaveFrame.FrameData" Param1="LastCrc" Param2="t_slaveSeqNo" Param3="t_oldSlaveCrc" Param4="true">IsCrcCorrect(Frame {0}, LastCrc 0x{1:X4}, SeqNo {2}, OldCrc 0x{3:X4}, New {4})</Value>
						</Information>
					</Informations1>
					<Action>
						<IsCrcCorrect ReturnValue="crcCorrect">
							<Frame>t_slaveFrame</Frame>
							<LastCrc>LastCrc</LastCrc>
							<SequenceNo>t_slaveSeqNo</SequenceNo>
							<OldCrc>t_oldSlaveCrc</OldCrc>
							<New>true</New>
						</IsCrcCorrect>
					</Action>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value Param0="t_slaveFrame.Crc0">Invalid Crc0 reveived ({0:x})</Value>
							<Id>4</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="CheckSessionConditions">
					<Compares>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.ConnId</Value1>
								<Operator>NotEqual</Operator>
								<Value2>t_expectedConnId</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value Param0="t_slaveFrame.ConnId">Invalid ConnId received  {0}, expected 0</Value>
									<Id>3</Id>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>Equal</Operator>
								<Value2>Session</Value2>
							</Condition>
							<Condition>
								<Value1>BytesToBeSent</Value1>
								<Operator>Equal</Operator>
								<Value2>0</Value2>
							</Condition>
							<Condition>
								<Value1>crcCorrect</Value1>
								<Operator>Equal</Operator>
								<Value2>true</Value2>
							</Condition>
							<Statement>
								<SetVariables>
									<SetVariable>
										<Destination DestinationIndex="t_index">t_slaveSessionId</Destination>
										<Source>t_slaveFrame.SafeData</Source>
									</SetVariable>
								</SetVariables>
							</Statement>
							<Statement>
								<CallFunction>CHECK_REMAINING_SAFE_DATA_IN_SESSION</CallFunction>
							</Statement>
							<Statement>
								<Return>
									<Type>Output</Type>
									<Value>DUT State: Session</Value>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>Equal</Operator>
								<Value2>Session</Value2>
							</Condition>
							<Condition>
								<Value1>crcCorrect</Value1>
								<Operator>Equal</Operator>
								<Value2>false</Value2>
							</Condition>
							<Condition>
								<Value1>SecondSessionFrameSent</Value1>
								<Operator>Equal</Operator>
								<Value2>true</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value Param0="t_slaveSeqNo" Param1="LastCrc" Param2="t_oldSlaveCrc">Invalid Crc received: SlaveSeqNo {0}, LastCrc 0x{1:X4}, OldCrc 0x{2:X4} </Value>
									<Id>4</Id>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>Equal</Operator>
								<Value2>Session</Value2>
							</Condition>
							<Condition>
								<Value1>crcCorrect</Value1>
								<Operator>Equal</Operator>
								<Value2>false</Value2>
							</Condition>
							<Condition>
								<Value1>SecondSessionFrameSent</Value1>
								<Operator>Equal</Operator>
								<Value2>false</Value2>
							</Condition>
							<Statement>
								<Information>
									<Type>Output</Type>
									<Value Param0="t_slaveSeqNo" Param1="LastCrc" Param2="t_oldSlaveCrc">Invalid Crc received: SlaveSeqNo {0}, LastCrc 0x{1:X4}, OldCrc 0x{2:X4} </Value>
								</Information>
							</Statement>
							<Statement>
								<CallFunction>SESSION_STAY2</CallFunction>
							</Statement>
							<Statement>
								<GotoStep>ReceiveEvent</GotoStep>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>Equal</Operator>
								<Value2>Session</Value2>
							</Condition>
							<Condition>
								<Value1>BytesToBeSent</Value1>
								<Operator>NotEqual</Operator>
								<Value2>0</Value2>
							</Condition>
							<Condition>
								<Value1>crcCorrect</Value1>
								<Operator>Equal</Operator>
								<Value2>true</Value2>
							</Condition>
							<Statement>
								<SetVariables>
									<SetVariable>
										<Destination DestinationIndex="t_index">t_slaveSessionId</Destination>
										<Source>t_slaveFrame.SafeData</Source>
									</SetVariable>
								</SetVariables>
							</Statement>
							<Statement>
								<CallFunction>SESSION_STAY1</CallFunction>
							</Statement>
							<Statement>
								<SetVariables>
									<SetVariable>
										<Destination>t_index</Destination>
										<Source>t_index+1</Source>
									</SetVariable>
								</SetVariables>
							</Statement>
							<Statement>
								<CallFunction>CHECK_REMAINING_SAFE_DATA_IN_SESSION</CallFunction>
							</Statement>
							<Statement>
								<GotoStep>ReceiveEvent</GotoStep>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>Equal</Operator>
								<Value2>Reset</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value>Invalid CMD(Reset) received</Value>
									<Id>1</Id>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>Equal</Operator>
								<Value2>Connection</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value>Invalid CMD(Connection) received</Value>
									<Id>1</Id>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>Equal</Operator>
								<Value2>Parameter</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value>Invalid CMD (Parameter) received</Value>
									<Id>1</Id>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>Equal</Operator>
								<Value2>ProcessData</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value>Invalid CMD (ProcessData) received</Value>
									<Id>1</Id>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>Equal</Operator>
								<Value2>FailSafeData</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value>Invalid CMD (FailSafeData) received</Value>
									<Id>1</Id>
								</Return>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>NotEqual</Operator>
								<Value2>Reset</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>NotEqual</Operator>
								<Value2>Session</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>NotEqual</Operator>
								<Value2>Connection</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>NotEqual</Operator>
								<Value2>Parameter</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>NotEqual</Operator>
								<Value2>ProcessData</Value2>
							</Condition>
							<Condition>
								<Value1>t_slaveFrame.Command</Value1>
								<Operator>NotEqual</Operator>
								<Value2>FailSafeData</Value2>
							</Condition>
							<Statement>
								<Return>
									<Type>Error</Type>
									<Value>Unknown CMD received</Value>
									<Id>2</Id>
								</Return>
							</Statement>
						</Compare>
					</Compares>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="SEND_MASTER_FRAME">
			<TestSteps>
				<TestStep Name="SetFrame">
					<Informations1>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="c_safeData" Param1="LastCrc" Param2="t_masterSeqNo" Param3="OldMasterCrc" Param4="t_connectionId" Param5="c_cmd">SetFrame(Command 0x{5:x2}, SafeData {0}, LastCrc 0x{1:x4}, ConnectionId 0x{4:x4},  SequenceNo 0x{2:x4}, OldCrc 0x{3:x4}, New true)</Value>
						</Information>
					</Informations1>
					<Action>
						<SetFrame Name="t_masterFrame">
							<Command>
								<CommandVariable>c_cmd</CommandVariable>
							</Command>
							<SafeData>
								<SafeDataVariable>c_safeData</SafeDataVariable>
							</SafeData>
							<LastCRC>LastCrc</LastCRC>
							<ConnectionID>
								<ConnectionIdVariable>t_connectionId</ConnectionIdVariable>
							</ConnectionID>
							<SequenceNo>t_masterSeqNo</SequenceNo>
							<OldCRC>OldMasterCrc</OldCRC>
							<New>true</New>
						</SetFrame>
					</Action>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to set FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SendFrame">
					<Action>
						<SendFrame Name="t_masterFrame"/>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_masterFrame.FrameData">Master Frame: {0}</Value>
						</Information>
					</Informations2>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to send FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SetLastCrc">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>t_masterFrame.Crc0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_masterFrame.Crc0">LastCrc = 0x{0:x4}</Value>
						</Information>
					</Informations2>
				</TestStep>
				<TestStep Name="UpdateBytesToBeSend">
					<Action>
						<UpdateBytesToBeSent BytesToBeSent="BytesToBeSent">
							<BytesSent>c_bytesToBeSent</BytesSent>
						</UpdateBytesToBeSent>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="BytesToBeSent">BytesToBeSent = {0}</Value>
						</Information>
					</Informations2>
				</TestStep>
				<TestStep Name="StartWatchdog">
					<Informations1>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_watchdog" Param1="ElapsedWD">Watchdog = {0} ms, elapsed time: {1} ms</Value>
						</Information>
					</Informations1>
					<Action>
						<StartWd>
							<Watchdog>t_watchdog</Watchdog>
						</StartWd>
					</Action>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="SESSION_FAIL1">
			<TestSteps>
				<TestStep Name="SetVars">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>OldMasterCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_oldSlaveCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_masterSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_slaveSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>DataCommand</Destination>
								<Source>FailSafeData</Source>
							</SetVariable>
							<SetVariable>
								<Destination>CommFaultReason</Destination>
								<Source>INVALID_CRC</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="SetFrame">
					<Action>
						<SetFrame Name="t_masterFrame">
							<Command>
								<CommandValue>Session</CommandValue>
							</Command>
							<SafeData>
								<SafeDataVariable>CommFaultReason</SafeDataVariable>
							</SafeData>
							<LastCRC>LastCrc</LastCRC>
							<ConnectionID>
								<UshortValue>0</UshortValue>
							</ConnectionID>
							<SequenceNo>t_masterSeqNo</SequenceNo>
							<OldCRC>OldMasterCrc</OldCRC>
							<New>false</New>
						</SetFrame>
					</Action>
				</TestStep>
				<TestStep Name="SendFrame">
					<Action>
						<SendFrame Name="t_masterFrame"/>
					</Action>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to send FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SetMasterSeqNo">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>t_masterSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="StartWatchdog">
					<Action>
						<StartWd>
							<Watchdog>t_watchdog</Watchdog>
						</StartWd>
					</Action>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="SESSION_FAIL3">
			<TestSteps>
				<TestStep Name="SetVars">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>OldMasterCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_oldSlaveCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_masterSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_slaveSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>DataCommand</Destination>
								<Source>FailSafeData</Source>
							</SetVariable>
							<SetVariable>
								<Destination>CommFaultReason</Destination>
								<Source>INVALID_CMD</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="SetFrame">
					<Action>
						<SetFrame Name="t_masterFrame">
							<Command>
								<CommandValue>Reset</CommandValue>
							</Command>
							<SafeData>
								<SafeDataVariable>CommFaultReason</SafeDataVariable>
							</SafeData>
							<LastCRC>LastCrc</LastCRC>
							<ConnectionID>
								<UshortValue>0</UshortValue>
							</ConnectionID>
							<SequenceNo>t_masterSeqNo</SequenceNo>
							<OldCRC>OldMasterCrc</OldCRC>
							<New>false</New>
						</SetFrame>
					</Action>
				</TestStep>
				<TestStep Name="SendFrame">
					<Action>
						<SendFrame Name="t_masterFrame"/>
					</Action>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to send FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SetMasterSeqNo">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>t_masterSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="StartWatchdog">
					<Action>
						<StartWd>
							<Watchdog>t_watchdog</Watchdog>
						</StartWd>
					</Action>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="SESSION_FAIL4">
			<TestSteps>
				<TestStep Name="SetVars">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>OldMasterCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_oldSlaveCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_masterSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_slaveSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>DataCommand</Destination>
								<Source>FailSafeData</Source>
							</SetVariable>
							<SetVariable>
								<Destination>CommFaultReason</Destination>
								<Source>UNKNOWN_CMD</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="SetFrame">
					<Action>
						<SetFrame Name="t_masterFrame">
							<Command>
								<CommandValue>Reset</CommandValue>
							</Command>
							<SafeData>
								<SafeDataVariable>CommFaultReason</SafeDataVariable>
							</SafeData>
							<LastCRC>LastCrc</LastCRC>
							<ConnectionID>
								<UshortValue>0</UshortValue>
							</ConnectionID>
							<SequenceNo>t_masterSeqNo</SequenceNo>
							<OldCRC>OldMasterCrc</OldCRC>
							<New>false</New>
						</SetFrame>
					</Action>
				</TestStep>
				<TestStep Name="SendFrame">
					<Action>
						<SendFrame Name="t_masterFrame"/>
					</Action>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to send FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SetMasterSeqNo">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>t_masterSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="StartWatchdog">
					<Action>
						<StartWd>
							<Watchdog>t_watchdog</Watchdog>
						</StartWd>
					</Action>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="SESSION_OK">
			<TestSteps>
				<TestStep Name="SetVars">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>t_slaveFrame.Crc0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="SetFrame">
					<Informations1>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_connData" Param1="LastCrc" Param2="t_masterSeqNo" Param3="OldMasterCrc" Param4="t_connectionId">SetFrame(Command Connection, SafeData {0}, LastCrc 0x{1:x4}, ConnectionId 0x{4:x4},  SequenceNo 0x{2:x4}, OldCrc 0x{3:x4}, New true)</Value>
						</Information>
					</Informations1>
					<Action>
						<SetFrame Name="t_masterFrame">
							<Command>
								<CommandValue>Connection</CommandValue>
							</Command>
							<SafeData>
								<SafeDataVariable>t_connData</SafeDataVariable>
							</SafeData>
							<LastCRC>LastCrc</LastCRC>
							<ConnectionID>
								<ConnectionIdVariable>t_connectionId</ConnectionIdVariable>
							</ConnectionID>
							<SequenceNo>t_masterSeqNo</SequenceNo>
							<OldCRC>OldMasterCrc</OldCRC>
							<New>true</New>
						</SetFrame>
					</Action>
				</TestStep>
				<TestStep Name="SendFrame">
					<Action>
						<SendFrame Name="t_masterFrame"/>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_masterFrame.FrameData">Master Frame: {0}</Value>
						</Information>
					</Informations2>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to send FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SetLastCrc">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>t_masterFrame.Crc0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_masterFrame.Crc0">LastCrc = 0x{0:x4}</Value>
						</Information>
					</Informations2>
				</TestStep>
				<TestStep Name="UpdateBytesToBeSend">
					<Action>
						<UpdateBytesToBeSent BytesToBeSent="BytesToBeSent">
							<BytesSent>4</BytesSent>
						</UpdateBytesToBeSent>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="BytesToBeSent">BytesToBeSent = {0}</Value>
						</Information>
					</Informations2>
				</TestStep>
				<TestStep Name="StartWatchdog">
					<Informations1>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_watchdog" Param1="ElapsedWD">Watchdog = {0} ms, elapsed time: {1} ms</Value>
						</Information>
					</Informations1>
					<Action>
						<StartWd>
							<Watchdog>t_watchdog</Watchdog>
						</StartWd>
					</Action>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="SESSION_OK_INVALID">
			<TestSteps>
				<TestStep Name="SetVars">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>t_slaveFrame.Crc0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="SetFrame">
					<Informations1>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_connData" Param1="LastCrc" Param2="t_masterSeqNo" Param3="OldMasterCrc" Param4="t_connectionId" Param5="c_cmd">SetFrame(Command {5}, SafeData {0}, LastCrc 0x{1:x4}, ConnectionId 0x{4:x4},  SequenceNo 0x{2:x4}, OldCrc 0x{3:x4}, New true)</Value>
						</Information>
					</Informations1>
					<Action>
						<SetFrame Name="t_masterFrame">
							<Command>
								<CommandVariable>c_cmd</CommandVariable>
							</Command>
							<SafeData>
								<SafeDataVariable>t_connData</SafeDataVariable>
							</SafeData>
							<LastCRC>LastCrc</LastCRC>
							<ConnectionID>
								<ConnectionIdVariable>t_connectionId</ConnectionIdVariable>
							</ConnectionID>
							<SequenceNo>t_masterSeqNo</SequenceNo>
							<OldCRC>OldMasterCrc</OldCRC>
							<New>true</New>
						</SetFrame>
					</Action>
				</TestStep>
				<TestStep Name="SendFrame">
					<Action>
						<SendFrame Name="t_masterFrame"/>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_masterFrame.FrameData">Master Frame: {0}</Value>
						</Information>
					</Informations2>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to send FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SetLastCrc">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>t_masterFrame.Crc0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_masterFrame.Crc0">LastCrc = 0x{0:x4}</Value>
						</Information>
					</Informations2>
				</TestStep>
				<TestStep Name="UpdateBytesToBeSend">
					<Action>
						<UpdateBytesToBeSent BytesToBeSent="BytesToBeSent">
							<BytesSent>4</BytesSent>
						</UpdateBytesToBeSent>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="BytesToBeSent">BytesToBeSent = {0}</Value>
						</Information>
					</Informations2>
				</TestStep>
				<TestStep Name="StartWatchdog">
					<Informations1>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_watchdog" Param1="ElapsedWD">Watchdog = {0} ms, elapsed time: {1} ms</Value>
						</Information>
					</Informations1>
					<Action>
						<StartWd>
							<Watchdog>t_watchdog</Watchdog>
						</StartWd>
					</Action>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="SESSION_RESET1">
			<TestSteps>
				<TestStep Name="SetVars">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>OldMasterCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_oldSlaveCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_masterSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_slaveSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>DataCommand</Destination>
								<Source>FailSafeData</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_masterSessionId</Destination>
								<Source>61183</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="SetFrame">
					<Action>
						<SetFrame Name="t_masterFrame">
							<Command>
								<CommandValue>Session</CommandValue>
							</Command>
							<SafeData>
								<SafeDataVariable>t_masterSessionId</SafeDataVariable>
							</SafeData>
							<LastCRC>LastCrc</LastCRC>
							<ConnectionID>
								<UshortValue>0</UshortValue>
							</ConnectionID>
							<SequenceNo>t_masterSeqNo</SequenceNo>
							<OldCRC>OldMasterCrc</OldCRC>
							<New>false</New>
						</SetFrame>
					</Action>
				</TestStep>
				<TestStep Name="SendFrame">
					<Action>
						<SendFrame Name="t_masterFrame"/>
					</Action>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to send FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SetLastCrc">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>t_masterFrame.Crc0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="UpdateBytesToBeSend">
					<Action>
						<UpdateBytesToBeSent BytesToBeSent="BytesToBeSent">
							<BytesSent>2</BytesSent>
						</UpdateBytesToBeSent>
					</Action>
				</TestStep>
				<TestStep Name="StartWatchdog">
					<Action>
						<StartWd>
							<Watchdog>t_watchdog</Watchdog>
						</StartWd>
					</Action>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="SESSION_STAY1">
			<TestSteps>
				<TestStep Name="SetVars">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>t_slaveFrame.Crc0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to set LastCrc</Value>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SetFrame">
					<Informations1>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_masterSessionId[2-BytesToBeSent]" Param1="LastCrc" Param2="t_masterSeqNo" Param3="OldMasterCrc" Param4="true">SetFrame(Command Session, SafeData {0}, LastCrc 0x{1:x4}, ConnectionId 0,  SequenceNo 0x{2:x4}, OldCrc 0x{3:x4}, New {4})</Value>
						</Information>
					</Informations1>
					<Action>
						<SetFrame Name="t_masterFrame">
							<Command>
								<CommandValue>Session</CommandValue>
							</Command>
							<SafeData>
								<SafeDataVariable>t_masterSessionId[2-BytesToBeSent]</SafeDataVariable>
							</SafeData>
							<LastCRC>LastCrc</LastCRC>
							<ConnectionID>
								<UshortValue>0</UshortValue>
							</ConnectionID>
							<SequenceNo>t_masterSeqNo</SequenceNo>
							<OldCRC>OldMasterCrc</OldCRC>
							<New>true</New>
						</SetFrame>
					</Action>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to set FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SendFrame">
					<Action>
						<SendFrame Name="t_masterFrame"/>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_masterFrame.FrameData">Master Frame: {0}</Value>
						</Information>
					</Informations2>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to send FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SetLastCrc">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>t_masterFrame.Crc0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_masterFrame.Crc0">LastCrc = 0x{0:x4}</Value>
						</Information>
					</Informations2>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to set LastCrc</Value>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="UpdateBytesToBeSend">
					<Action>
						<UpdateBytesToBeSent BytesToBeSent="BytesToBeSent">
							<BytesSent>BytesToBeSent</BytesSent>
						</UpdateBytesToBeSent>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="BytesToBeSent">BytesToBeSent = {0}</Value>
						</Information>
					</Informations2>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to update bytes to be send</Value>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SetSecondFrameSent">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>SecondSessionFrameSent</Destination>
								<Source>true</Source>
							</SetVariable>
						</SetVariables>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="SecondSessionFrameSent">SecondSessionFrameSent = {0}</Value>
						</Information>
					</Informations2>
				</TestStep>
				<TestStep Name="StartWatchdog">
					<Informations1>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_watchdog" Param1="ElapsedWD">SESSION_STAY1 StartWatchdog(Watchdog = {0} ms) elapsed time: {1} ms</Value>
						</Information>
					</Informations1>
					<Action>
						<StartWd>
							<Watchdog>t_watchdog</Watchdog>
						</StartWd>
					</Action>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to start the watchdog</Value>
						</OnFailure>
					</ReturnValue>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="SESSION_STAY2">
			<TestSteps>
				<TestStep Name="StartWatchdog">
					<Informations1>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_watchdog" Param1="ElapsedWD">SESSION_STAY2 StartWatchdog(Watchdog = {0} ms) elapsed time: {1} ms</Value>
						</Information>
					</Informations1>
					<Action>
						<StartWd>
							<Watchdog>t_watchdog</Watchdog>
						</StartWd>
					</Action>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to start the watchdog</Value>
						</OnFailure>
					</ReturnValue>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="SESSION_STAY1_INCREMENTED_CRC0">
			<TestSteps>
				<TestStep Name="SetVars">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>t_slaveFrame.Crc0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to set LastCrc</Value>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SetFrame">
					<Informations1>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_masterSessionId[2-BytesToBeSent]" Param1="LastCrc" Param2="t_masterSeqNo" Param3="OldMasterCrc" Param4="false">SetFrame(Command Session, SafeData {0}, LastCrc 0x{1:x4}, ConnectionId 0,  SequenceNo 0x{2:x4}, OldCrc 0x{3:x4}, New {4})</Value>
						</Information>
					</Informations1>
					<Action>
						<SetFrame Name="t_masterFrame">
							<Command>
								<CommandValue>Session</CommandValue>
							</Command>
							<SafeData>
								<SafeDataVariable>t_masterSessionId[2-BytesToBeSent]</SafeDataVariable>
							</SafeData>
							<LastCRC>LastCrc</LastCRC>
							<ConnectionID>
								<UshortValue>0</UshortValue>
							</ConnectionID>
							<SequenceNo>t_masterSeqNo</SequenceNo>
							<OldCRC>OldMasterCrc</OldCRC>
							<New>true</New>
						</SetFrame>
					</Action>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to set FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SetInvalidCrc0">
					<Informations1>
						<Information>
							<Type>Output</Type>
							<Value Param0="t_masterFrame.Crc0">Valid Crc0 = 0x{0:x4}</Value>
						</Information>
					</Informations1>
					<Action>
						<CallFunction>
							<Reference>INCREMENT_CRC_0</Reference>
						</CallFunction>
					</Action>
					<Informations2>
						<Information>
							<Type>Output</Type>
							<Value Param0="t_masterFrame.Crc0">Falsified Crc0 = 0x{0:x4}</Value>
						</Information>
					</Informations2>
				</TestStep>
				<TestStep Name="SendFrame">
					<Action>
						<SendFrame Name="t_masterFrame"/>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_masterFrame.FrameData">Master Frame: {0}</Value>
						</Information>
					</Informations2>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to send FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SetLastCrc">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>t_masterFrame.Crc0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_masterFrame.Crc0">LastCrc = 0x{0:x4}</Value>
						</Information>
					</Informations2>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to set LastCrc</Value>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="UpdateBytesToBeSend">
					<Action>
						<UpdateBytesToBeSent BytesToBeSent="BytesToBeSent">
							<BytesSent>BytesToBeSent</BytesSent>
						</UpdateBytesToBeSent>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="BytesToBeSent">BytesToBeSent = {0}</Value>
						</Information>
					</Informations2>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to update bytes to be send</Value>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SetSecondFrameSent">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>SecondSessionFrameSent</Destination>
								<Source>true</Source>
							</SetVariable>
						</SetVariables>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="SecondSessionFrameSent">SecondSessionFrameSent = {0}</Value>
						</Information>
					</Informations2>
				</TestStep>
				<TestStep Name="StartWatchdog">
					<Informations1>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_watchdog" Param1="ElapsedWD">Watchdog = {0} ms, elapsed time: {1} ms</Value>
						</Information>
					</Informations1>
					<Action>
						<StartWd>
							<Watchdog>t_watchdog</Watchdog>
						</StartWd>
					</Action>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to start the watchdog</Value>
						</OnFailure>
					</ReturnValue>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="SESSION_STAY1_DECREMENTED_CRC0">
			<TestSteps>
				<TestStep Name="SetVars">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>t_slaveFrame.Crc0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to set LastCrc</Value>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SetFrame">
					<Informations1>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_masterSessionId[2-BytesToBeSent]" Param1="LastCrc" Param2="t_masterSeqNo" Param3="OldMasterCrc" Param4="false">SetFrame(Command Session, SafeData {0}, LastCrc 0x{1:x4}, ConnectionId 0,  SequenceNo 0x{2:x4}, OldCrc 0x{3:x4}, New {4})</Value>
						</Information>
					</Informations1>
					<Action>
						<SetFrame Name="t_masterFrame">
							<Command>
								<CommandValue>Session</CommandValue>
							</Command>
							<SafeData>
								<SafeDataVariable>t_masterSessionId[2-BytesToBeSent]</SafeDataVariable>
							</SafeData>
							<LastCRC>LastCrc</LastCRC>
							<ConnectionID>
								<UshortValue>0</UshortValue>
							</ConnectionID>
							<SequenceNo>t_masterSeqNo</SequenceNo>
							<OldCRC>OldMasterCrc</OldCRC>
							<New>true</New>
						</SetFrame>
					</Action>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to set FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SetInvalidCrc0">
					<Informations1>
						<Information>
							<Type>Output</Type>
							<Value Param0="t_masterFrame.Crc0">Valid Crc0 = 0x{0:x4}</Value>
						</Information>
					</Informations1>
					<Action>
						<CallFunction>
							<Reference>DECREMENT_CRC_0</Reference>
						</CallFunction>
					</Action>
					<Informations2>
						<Information>
							<Type>Output</Type>
							<Value Param0="t_masterFrame.Crc0">Falsified Crc0 = 0x{0:x4}</Value>
						</Information>
					</Informations2>
				</TestStep>
				<TestStep Name="SendFrame">
					<Action>
						<SendFrame Name="t_masterFrame"/>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_masterFrame.FrameData">Master Frame: {0}</Value>
						</Information>
					</Informations2>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to send FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SetLastCrc">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>t_masterFrame.Crc0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_masterFrame.Crc0">LastCrc = 0x{0:x4}</Value>
						</Information>
					</Informations2>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to set LastCrc</Value>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="UpdateBytesToBeSend">
					<Action>
						<UpdateBytesToBeSent BytesToBeSent="BytesToBeSent">
							<BytesSent>BytesToBeSent</BytesSent>
						</UpdateBytesToBeSent>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="BytesToBeSent">BytesToBeSent = {0}</Value>
						</Information>
					</Informations2>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to update bytes to be send</Value>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SetSecondFrameSent">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>SecondSessionFrameSent</Destination>
								<Source>true</Source>
							</SetVariable>
						</SetVariables>
					</Action>
					<Informations2>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="SecondSessionFrameSent">SecondSessionFrameSent = {0}</Value>
						</Information>
					</Informations2>
				</TestStep>
				<TestStep Name="StartWatchdog">
					<Informations1>
						<Information>
							<Type>Verbose</Type>
							<Value Param0="t_watchdog" Param1="ElapsedWD">Watchdog = {0} ms, elapsed time: {1} ms</Value>
						</Information>
					</Informations1>
					<Action>
						<StartWd>
							<Watchdog>t_watchdog</Watchdog>
						</StartWd>
					</Action>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to start the watchdog</Value>
						</OnFailure>
					</ReturnValue>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="SESSION_WD">
			<TestSteps>
				<TestStep Name="SetVars">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>LastCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>OldMasterCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_oldSlaveCrc</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_masterSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>t_slaveSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
							<SetVariable>
								<Destination>DataCommand</Destination>
								<Source>FailSafeData</Source>
							</SetVariable>
							<SetVariable>
								<Destination>commFaultReason</Destination>
								<Source>WD_EXPIRED</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="SetFrame">
					<Action>
						<SetFrame Name="t_masterFrame">
							<Command>
								<CommandValue>Reset</CommandValue>
							</Command>
							<SafeData>
								<SafeDataVariable>commFaultReason</SafeDataVariable>
							</SafeData>
							<LastCRC>LastCrc</LastCRC>
							<ConnectionID>
								<UshortValue>0</UshortValue>
							</ConnectionID>
							<SequenceNo>t_masterSeqNo</SequenceNo>
							<OldCRC>OldMasterCrc</OldCRC>
							<New>false</New>
						</SetFrame>
					</Action>
				</TestStep>
				<TestStep Name="SendFrame">
					<Action>
						<SendFrame Name="t_masterFrame"/>
					</Action>
					<ReturnValue>
						<OnFailure>
							<Type>Error</Type>
							<Value>Failed to send FSoE frame!</Value>
							<Id>256</Id>
						</OnFailure>
					</ReturnValue>
				</TestStep>
				<TestStep Name="SetMasterSeqNo">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>t_masterSeqNo</Destination>
								<Source>1</Source>
							</SetVariable>
						</SetVariables>
					</Action>
				</TestStep>
				<TestStep Name="StartWatchdog">
					<Action>
						<StartWd>
							<Watchdog>t_watchdog</Watchdog>
						</StartWd>
					</Action>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="INCREMENT_CRC_0">
			<TestSteps>
				<TestStep Name="SetLowerMaxValue">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>t_maxUInt16</Destination>
								<Source>65535</Source>
							</SetVariable>
						</SetVariables>
					</Action>
					<Compares>
						<Compare>
							<Condition>
								<Value1>t_masterFrame.Crc0</Value1>
								<Operator>Lower</Operator>
								<Value2>t_maxUInt16</Value2>
							</Condition>
							<Statement>
								<SetVariables>
									<SetVariable>
										<Destination>t_masterFrame.Crc0</Destination>
										<Source>t_masterFrame.Crc0+1</Source>
									</SetVariable>
								</SetVariables>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_masterFrame.Crc0</Value1>
								<Operator>Equal</Operator>
								<Value2>t_maxUInt16</Value2>
							</Condition>
							<Statement>
								<SetVariables>
									<SetVariable>
										<Destination>t_masterFrame.Crc0</Destination>
										<Source>0</Source>
									</SetVariable>
								</SetVariables>
							</Statement>
						</Compare>
					</Compares>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="DECREMENT_CRC_0">
			<TestSteps>
				<TestStep Name="SetGreaterMinValue">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>t_minUInt16</Destination>
								<Source>0</Source>
							</SetVariable>
						</SetVariables>
					</Action>
					<Compares>
						<Compare>
							<Condition>
								<Value1>t_masterFrame.Crc0</Value1>
								<Operator>Greater</Operator>
								<Value2>t_minUInt16</Value2>
							</Condition>
							<Statement>
								<SetVariables>
									<SetVariable>
										<Destination>t_masterFrame.Crc0</Destination>
										<Source>t_masterFrame.Crc0-1</Source>
									</SetVariable>
								</SetVariables>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>t_masterFrame.Crc0</Value1>
								<Operator>Equal</Operator>
								<Value2>t_minUInt16</Value2>
							</Condition>
							<Statement>
								<SetVariables>
									<SetVariable>
										<Destination>t_masterFrame.Crc0</Destination>
										<Source>65535</Source>
									</SetVariable>
								</SetVariables>
							</Statement>
						</Compare>
					</Compares>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="INCREMENT_CRC_N">
			<TestSteps>
				<TestStep Name="SetLowerMaxValue">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>t_maxUInt16</Destination>
								<Source>65535</Source>
							</SetVariable>
							<SetVariable>
								<Destination>c_tmpCrcn</Destination>
								<Source SourceIndex="c_crcIndex">t_masterFrame.Crcs</Source>
							</SetVariable>
						</SetVariables>
					</Action>
					<Compares>
						<Compare>
							<Condition>
								<Value1>c_tmpCrcn</Value1>
								<Operator>Lower</Operator>
								<Value2>t_maxUInt16</Value2>
							</Condition>
							<Statement>
								<SetVariables>
									<SetVariable>
										<Destination DestinationIndex="c_crcIndex">t_masterFrame.Crcs</Destination>
										<Source>c_tmpCrcn+1</Source>
									</SetVariable>
								</SetVariables>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>c_tmpCrcn</Value1>
								<Operator>Equal</Operator>
								<Value2>t_maxUInt16</Value2>
							</Condition>
							<Statement>
								<SetVariables>
									<SetVariable>
										<Destination DestinationIndex="c_crcIndex">t_masterFrame.Crcs</Destination>
										<Source>0</Source>
									</SetVariable>
								</SetVariables>
							</Statement>
						</Compare>
					</Compares>
				</TestStep>
			</TestSteps>
		</TestFunction>
		<TestFunction Name="DECREMENT_CRC_N">
			<TestSteps>
				<TestStep Name="SetGreaterMinValue">
					<Action>
						<SetVariables>
							<SetVariable>
								<Destination>t_minUInt16</Destination>
								<Source>0</Source>
							</SetVariable>
							<SetVariable>
								<Destination>c_tmpCrcn</Destination>
								<Source SourceIndex="c_crcIndex">t_masterFrame.Crcs</Source>
							</SetVariable>
						</SetVariables>
					</Action>
					<Compares>
						<Compare>
							<Condition>
								<Value1>c_tmpCrcn</Value1>
								<Operator>Greater</Operator>
								<Value2>t_minUInt16</Value2>
							</Condition>
							<Statement>
								<SetVariables>
									<SetVariable>
										<Destination DestinationIndex="c_crcIndex">t_masterFrame.Crcs</Destination>
										<Source>c_tmpCrcn-1</Source>
									</SetVariable>
								</SetVariables>
							</Statement>
						</Compare>
						<Compare>
							<Condition>
								<Value1>c_tmpCrcn</Value1>
								<Operator>Equal</Operator>
								<Value2>t_minUInt16</Value2>
							</Condition>
							<Statement>
								<SetVariables>
									<SetVariable>
										<Destination DestinationIndex="c_crcIndex">t_masterFrame.Crcs</Destination>
										<Source>65535</Source>
									</SetVariable>
								</SetVariables>
							</Statement>
						</Compare>
					</Compares>
				</TestStep>
			</TestSteps>
		</TestFunction>
	</TestFunctions>
	<TestGroups>
		<TestGroup Name="#5 Data State" GroupId="5">
			<Comment>Tests the Data State</Comment>
			<TestCases>
				<TestCase Name="#5.45a Data_Ok1" CaseId="50">
					<Comment>Normal boot-up to data with ProcessData and min watchdog</Comment>
					<CaseVariables>
						<Variable>
							<Name>c_tmpByte</Name>
							<Type>Byte</Type>
						</Variable>
						<Variable>
							<Name>c_dataOk</Name>
							<Type>Bool</Type>
						</Variable>
					</CaseVariables>
					<TestSteps>
						<TestStep Name="SetVariables">
							<Action>
								<SetVariables>
									<SetVariable>
										<Destination>c_tmpByte</Destination>
										<Source>0</Source>
									</SetVariable>
									<SetVariable>
										<Destination>t_masterSessionId</Destination>
										<Source>1</Source>
									</SetVariable>
								</SetVariables>
							</Action>
						</TestStep>
						<TestStep Name="SetConnectionData">
							<Action>
								<SetVariables>
									<SetVariable>
										<Destination>t_connectionId</Destination>
										<Source>3</Source>
									</SetVariable>
									<SetVariable>
										<Destination DestinationIndex="0">t_connData</Destination>
										<Source>t_connectionId</Source>
									</SetVariable>
									<SetVariable>
										<Destination DestinationIndex="2">t_connData</Destination>
										<Source>ConnData.SlaveAddress</Source>
									</SetVariable>
								</SetVariables>
							</Action>
							<Informations2>
								<Information>
									<Type>Output</Type>
									<Value Param0="t_connectionId" Param1="ConnData.SlaveAddress" Param2="t_connData">ConnectionId: {0} (0x{0:x4}), Slave Address: {1} (0x{1:x4}), Connection Data {2}</Value>
								</Information>
							</Informations2>
						</TestStep>
						<TestStep Name="SetParameterData">
							<Action>
								<SetVariables>
									<SetVariable>
										<Destination>t_safePara</Destination>
										<Source>SafePara</Source>
									</SetVariable>
									<SetVariable>
										<Destination DestinationIndex="2">t_safePara</Destination>
										<Source>MinWatchdog</Source>
									</SetVariable>
									<SetVariable>
										<Destination>t_watchdog</Destination>
										<Source>MinWatchdog</Source>
									</SetVariable>
								</SetVariables>
							</Action>
							<Informations2>
								<Information>
									<Type>Output</Type>
									<Value Param0="t_watchdog" Param1="SafeParaSize" Param2="t_safePara">Watchdog: {0} ms, SafeParaSize: {1}, Safe Parameter {2}</Value>
								</Information>
							</Informations2>
						</TestStep>
						<TestStep Name="GoToParameter">
							<Action>
								<CallFunction>
									<Reference>RUN_DUT_TO_PARAMETER</Reference>
								</CallFunction>
							</Action>
						</TestStep>
						<TestStep Name="SetDataCmd">
							<Action>
								<SetVariables>
									<SetVariable>
										<Destination>DataCommand</Destination>
										<Source>ProcessData</Source>
									</SetVariable>
								</SetVariables>
							</Action>
						</TestStep>
						<TestStep Name="CallParaOk">
							<Action>
								<CallFunction>
									<Reference>PARA_OK</Reference>
								</CallFunction>
							</Action>
						</TestStep>
						<TestStep Name="ReceiveEvent">
							<Event>
								<ReceiveFrame>t_slaveFrame</ReceiveFrame>
							</Event>
							<Informations2>
								<Information>
									<Type>Verbose</Type>
									<Value Param0="t_slaveFrame.FrameData">Slave Frame: {0}</Value>
								</Information>
							</Informations2>
						</TestStep>
						<TestStep Name="CheckWatchdog">
							<Event>
								<WatchdogExpired>
									<Return>
										<Type>Error</Type>
										<Value Param0="ElapsedWD">Watchdog expired!  {0} ms</Value>
										<Id>5</Id>
									</Return>
								</WatchdogExpired>
							</Event>
						</TestStep>
						<TestStep Name="CheckReceivedCrc">
							<Action>
								<IsCrcCorrect ReturnValue="crcCorrect">
									<Frame>t_slaveFrame</Frame>
									<LastCrc>LastCrc</LastCrc>
									<SequenceNo>t_slaveSeqNo</SequenceNo>
									<OldCrc>t_oldSlaveCrc</OldCrc>
									<New>true</New>
								</IsCrcCorrect>
							</Action>
							<ReturnValue>
								<OnFailure>
									<Type>Error</Type>
									<Value Param0="t_slaveFrame.Crc0">Invalid Crc0 reveived ({0:x})</Value>
									<Id>4</Id>
								</OnFailure>
							</ReturnValue>
						</TestStep>
						<TestStep Name="CheckDataCondition">
							<Compares>
								<Compare>
									<Condition>
										<Value1>c_dataOk</Value1>
										<Operator>Equal</Operator>
										<Value2>true</Value2>
									</Condition>
									<Condition>
										<Value1>t_slaveFrame.Command</Value1>
										<Operator>Equal</Operator>
										<Value2>ProcessData</Value2>
									</Condition>
									<Condition>
										<Value1>t_slaveFrame.ConnId</Value1>
										<Operator>Equal</Operator>
										<Value2>t_connectionId</Value2>
									</Condition>
									<Condition>
										<Value1>crcCorrect</Value1>
										<Operator>Equal</Operator>
										<Value2>true</Value2>
									</Condition>
									<Statement>
										<Return>
											<Type>Success</Type>
											<Value Param0="MinWatchdog">DuT state DATA (ProcessData), Watchdog {0}ms</Value>
										</Return>
									</Statement>
								</Compare>
								<Compare>
									<Condition>
										<Value1>c_dataOk</Value1>
										<Operator>Equal</Operator>
										<Value2>true</Value2>
									</Condition>
									<Condition>
										<Value1>t_slaveFrame.Command</Value1>
										<Operator>Equal</Operator>
										<Value2>FailSafeData</Value2>
									</Condition>
									<Condition>
										<Value1>t_slaveFrame.ConnId</Value1>
										<Operator>Equal</Operator>
										<Value2>t_connectionId</Value2>
									</Condition>
									<Condition>
										<Value1>crcCorrect</Value1>
										<Operator>Equal</Operator>
										<Value2>true</Value2>
									</Condition>
									<Statement>
										<Return>
											<Type>Success</Type>
											<Value Param0="MinWatchdog">DuT state DATA (FailSafeData), Watchdog {0}ms</Value>
										</Return>
									</Statement>
								</Compare>
								<Compare>
									<Condition>
										<Value1>t_slaveFrame.Command</Value1>
										<Operator>Equal</Operator>
										<Value2>ProcessData</Value2>
									</Condition>
									<Condition>
										<Value1>t_slaveFrame.ConnId</Value1>
										<Operator>Equal</Operator>
										<Value2>t_connectionId</Value2>
									</Condition>
									<Condition>
										<Value1>crcCorrect</Value1>
										<Operator>Equal</Operator>
										<Value2>true</Value2>
									</Condition>
									<Statement>
										<CallFunction>DATA_OK1</CallFunction>
									</Statement>
									<Statement>
										<SetVariables>
											<SetVariable>
												<Destination>c_dataOk</Destination>
												<Source>true</Source>
											</SetVariable>
										</SetVariables>
									</Statement>
									<Statement>
										<GotoStep>ReceiveEvent</GotoStep>
									</Statement>
								</Compare>
								<Compare>
									<Condition>
										<Value1>t_slaveFrame.Command</Value1>
										<Operator>Equal</Operator>
										<Value2>FailSafeData</Value2>
									</Condition>
									<Condition>
										<Value1>t_slaveFrame.ConnId</Value1>
										<Operator>Equal</Operator>
										<Value2>t_connectionId</Value2>
									</Condition>
									<Condition>
										<Value1>crcCorrect</Value1>
										<Operator>Equal</Operator>
										<Value2>true</Value2>
									</Condition>
									<Statement>
										<CallFunction>DATA_OK2</CallFunction>
									</Statement>
									<Statement>
										<SetVariables>
											<SetVariable>
												<Destination>c_dataOk</Destination>
												<Source>true</Source>
											</SetVariable>
										</SetVariables>
									</Statement>
									<Statement>
										<GotoStep>ReceiveEvent</GotoStep>
									</Statement>
								</Compare>
								<Compare>
									<Condition>
										<Value1>t_slaveFrame.Command</Value1>
										<Operator>Equal</Operator>
										<Value2>ProcessData</Value2>
									</Condition>
									<Condition>
										<Value1>t_slaveFrame.ConnId</Value1>
										<Operator>Equal</Operator>
										<Value2>t_connectionId</Value2>
									</Condition>
									<Condition>
										<Value1>crcCorrect</Value1>
										<Operator>Equal</Operator>
										<Value2>false</Value2>
									</Condition>
									<Statement>
										<Return>
											<Type>Error</Type>
											<Value>Invalid Crc received</Value>
											<Id>4</Id>
										</Return>
									</Statement>
								</Compare>
								<Compare>
									<Condition>
										<Value1>t_slaveFrame.Command</Value1>
										<Operator>Equal</Operator>
										<Value2>ProcessData</Value2>
									</Condition>
									<Condition>
										<Value1>t_slaveFrame.ConnId</Value1>
										<Operator>NotEqual</Operator>
										<Value2>t_connectionId</Value2>
									</Condition>
									<Statement>
										<Return>
											<Type>Error</Type>
											<Value>Invalid Connection Id received</Value>
											<Id>3</Id>
										</Return>
									</Statement>
								</Compare>
								<Compare>
									<Condition>
										<Value1>t_slaveFrame.Command</Value1>
										<Operator>Equal</Operator>
										<Value2>FailSafeData</Value2>
									</Condition>
									<Condition>
										<Value1>t_slaveFrame.ConnId</Value1>
										<Operator>NotEqual</Operator>
										<Value2>t_connectionId</Value2>
									</Condition>
									<Statement>
										<Return>
											<Type>Error</Type>
											<Value>Invalid Connection Id received||Back to Reset</Value>
										</Return>
									</Statement>
								</Compare>
								<Compare>
									<Condition>
										<Value1>t_slaveFrame.Command</Value1>
										<Operator>Equal</Operator>
										<Value2>Reset</Value2>
									</Condition>
									<Statement>
										<CallFunction>GET_COMM_FAULT_REASON</CallFunction>
									</Statement>
									<Statement>
										<Return>
											<Type>Error</Type>
											<Value Param0="t_commFaultReason">Reset Cmd received , CommFaultReason: {0}</Value>
										</Return>
									</Statement>
								</Compare>
								<Compare>
									<Condition>
										<Value1>t_slaveFrame.Command</Value1>
										<Operator>Equal</Operator>
										<Value2>Session</Value2>
									</Condition>
									<Statement>
										<Return>
											<Type>Error</Type>
											<Value>Invalid Session Cmd received</Value>
										</Return>
									</Statement>
								</Compare>
								<Compare>
									<Condition>
										<Value1>t_slaveFrame.Command</Value1>
										<Operator>Equal</Operator>
										<Value2>Connection</Value2>
									</Condition>
									<Statement>
										<Return>
											<Type>Error</Type>
											<Value>Invalid Connection Cmd received</Value>
										</Return>
									</Statement>
								</Compare>
								<Compare>
									<Condition>
										<Value1>t_slaveFrame.Command</Value1>
										<Operator>Equal</Operator>
										<Value2>Parameter</Value2>
									</Condition>
									<Statement>
										<Return>
											<Type>Error</Type>
											<Value>Invalid Parameter Cmd received</Value>
										</Return>
									</Statement>
								</Compare>
								<Compare>
									<Condition>
										<Value1>t_slaveFrame.Command</Value1>
										<Operator>NotEqual</Operator>
										<Value2>Reset</Value2>
									</Condition>
									<Condition>
										<Value1>t_slaveFrame.Command</Value1>
										<Operator>NotEqual</Operator>
										<Value2>Session</Value2>
									</Condition>
									<Condition>
										<Value1>t_slaveFrame.Command</Value1>
										<Operator>NotEqual</Operator>
										<Value2>Connection</Value2>
									</Condition>
									<Condition>
										<Value1>t_slaveFrame.Command</Value1>
										<Operator>NotEqual</Operator>
										<Value2>Parameter</Value2>
									</Condition>
									<Condition>
										<Value1>t_slaveFrame.Command</Value1>
										<Operator>NotEqual</Operator>
										<Value2>ProcessData</Value2>
									</Condition>
									<Condition>
										<Value1>t_slaveFrame.Command</Value1>
										<Operator>NotEqual</Operator>
										<Value2>FailSafeData</Value2>
									</Condition>
									<Statement>
										<Return>
											<Type>Error</Type>
											<Value>Unknown CMD received</Value>
											<Id>2</Id>
										</Return>
									</Statement>
								</Compare>
								<Compare>
									<Condition>
										<Value1>1</Value1>
										<Operator>Equal</Operator>
										<Value2>1</Value2>
									</Condition>
									<Statement>
										<Return>
											<Type>Error</Type>
											<Value>General state machine error!</Value>
										</Return>
									</Statement>
								</Compare>
							</Compares>
						</TestStep>
					</TestSteps>
				</TestCase>
				<TestCase Name="#5.45b Data_WD" CaseId="51">
					<Description>
						<Purpose>The watchdog shall expire in data if no master message is sent anymore.</Purpose>
						<PreCondition>-DuT is in Data with ProcessData command
-the watchdog is set to min watchdog</PreCondition>
						<Action>-run the DuT to Data
-suppressing the master message until the watchdog expires</Action>
						<PostCondition>-the DuT shall response error code 5 (WD_EXPIRED)</PostCondition>
						<References>
							<Reference Chapter="Slave state machine DATA_WD" Specification="ETG5100"/>
							<Reference Chapter="FSoE Slave Test Case 5.45b" Specification="ETG7100"/>
						</References>
						<Mandatory>true</Mandatory>
					</Description>
					<CaseVariables>
						<Variable>
							<Name>c_tmpByte</Name>
							<Type>Byte</Type>
						</Variable>
						<Variable>
							<Name>c_CommFaultReason</Name>
							<Type>Byte</Type>
						</Variable>
					</CaseVariables>
					<TestSteps>
						<TestStep Name="SetVariables">
							<Action>
								<SetVariables>
									<SetVariable>
										<Destination>c_tmpByte</Destination>
										<Source>0</Source>
									</SetVariable>
									<SetVariable>
										<Destination>c_CommFaultReason</Destination>
										<Source>WD_EXPIRED</Source>
									</SetVariable>
									<SetVariable>
										<Destination>t_masterSessionId</Destination>
										<Source>1</Source>
									</SetVariable>
								</SetVariables>
							</Action>
						</TestStep>
						<TestStep Name="SetConnectionData">
							<Action>
								<SetVariables>
									<SetVariable>
										<Destination>t_connectionId</Destination>
										<Source>3</Source>
									</SetVariable>
									<SetVariable>
										<Destination DestinationIndex="0">t_connData</Destination>
										<Source>t_connectionId</Source>
									</SetVariable>
									<SetVariable>
										<Destination DestinationIndex="2">t_connData</Destination>
										<Source>ConnData.SlaveAddress</Source>
									</SetVariable>
								</SetVariables>
							</Action>
							<Informations2>
								<Information>
									<Type>Output</Type>
									<Value Param0="t_connectionId" Param1="ConnData.SlaveAddress" Param2="t_connData">ConnectionId: {0} (0x{0:x4}), Slave Address: {1} (0x{1:x4}), Connection Data {2}</Value>
								</Information>
							</Informations2>
						</TestStep>
						<TestStep Name="SetParameterData">
							<Action>
								<SetVariables>
									<SetVariable>
										<Destination>t_safePara</Destination>
										<Source>SafePara</Source>
									</SetVariable>
									<SetVariable>
										<Destination DestinationIndex="2">t_safePara</Destination>
										<Source>MinWatchdog</Source>
									</SetVariable>
									<SetVariable>
										<Destination>t_watchdog</Destination>
										<Source>MinWatchdog</Source>
									</SetVariable>
								</SetVariables>
							</Action>
							<Informations2>
								<Information>
									<Type>Output</Type>
									<Value Param0="t_watchdog" Param1="SafeParaSize" Param2="t_safePara">Watchdog: {0} ms, SafeParaSize: {1}, Safe Parameter {2}</Value>
								</Information>
							</Informations2>
						</TestStep>
						<TestStep Name="GotoData" Delay="t_watchdog+1">
							<Action>
								<CallFunction>
									<Reference>RUN_DUT_TO_PROCESSDATA</Reference>
								</CallFunction>
							</Action>
							<Informations2>
								<Information>
									<Type>Output</Type>
									<Value Param0="t_watchdog">Wait for: {0} + 1 ms</Value>
								</Information>
							</Informations2>
						</TestStep>
						<TestStep Name="CheckReceivedSlaveFrame">
							<Action>
								<CallFunction>
									<Reference>CHECK_RESET_FAIL_WO_WD</Reference>
								</CallFunction>
							</Action>
							<ReturnValue>
								<OnSuccess>
									<Type>Success</Type>
									<Value Param0="c_CommFaultReason">Expected CommFaultReason ({0}) received</Value>
								</OnSuccess>
							</ReturnValue>
						</TestStep>
					</TestSteps>
				</TestCase>
				<TestCase Name="#5.45d Data_WD" CaseId="53">
					<Description>
						<Purpose>The watchdog shall expire in data if no master message is sent anymore.</Purpose>
						<PreCondition>-DuT is in Data with ProcessData command
-the watchdog is set to max watchdog</PreCondition>
						<Action>-run the DuT to Data
-suppressing the master message until the watchdog expires</Action>
						<PostCondition>-the DuT shall response error code 5 (WD_EXPIRED)</PostCondition>
						<References>
							<Reference Chapter="Slave state machine DATA_WD" Specification="ETG5100"/>
							<Reference Chapter="FSoE Slave Test Case 5.45d" Specification="ETG7100"/>
						</References>
						<Mandatory>true</Mandatory>
					</Description>
					<CaseVariables>
						<Variable>
							<Name>c_tmpByte</Name>
							<Type>Byte</Type>
						</Variable>
						<Variable>
							<Name>c_CommFaultReason</Name>
							<Type>Byte</Type>
						</Variable>
					</CaseVariables>
					<TestSteps>
						<TestStep Name="SetVariables">
							<Action>
								<SetVariables>
									<SetVariable>
										<Destination>c_tmpByte</Destination>
										<Source>0</Source>
									</SetVariable>
									<SetVariable>
										<Destination>c_CommFaultReason</Destination>
										<Source>WD_EXPIRED</Source>
									</SetVariable>
									<SetVariable>
										<Destination>t_masterSessionId</Destination>
										<Source>1</Source>
									</SetVariable>
								</SetVariables>
							</Action>
						</TestStep>
						<TestStep Name="SetConnectionData">
							<Action>
								<SetVariables>
									<SetVariable>
										<Destination>t_connectionId</Destination>
										<Source>3</Source>
									</SetVariable>
									<SetVariable>
										<Destination DestinationIndex="0">t_connData</Destination>
										<Source>t_connectionId</Source>
									</SetVariable>
									<SetVariable>
										<Destination DestinationIndex="2">t_connData</Destination>
										<Source>ConnData.SlaveAddress</Source>
									</SetVariable>
								</SetVariables>
							</Action>
							<Informations2>
								<Information>
									<Type>Output</Type>
									<Value Param0="t_connectionId" Param1="ConnData.SlaveAddress" Param2="t_connData">ConnectionId: {0} (0x{0:x4}), Slave Address: {1} (0x{1:x4}), Connection Data {2}</Value>
								</Information>
							</Informations2>
						</TestStep>
						<TestStep Name="SetParameterData">
							<Action>
								<SetVariables>
									<SetVariable>
										<Destination>t_safePara</Destination>
										<Source>SafePara</Source>
									</SetVariable>
									<SetVariable>
										<Destination DestinationIndex="2">t_safePara</Destination>
										<Source>MaxWatchdog</Source>
									</SetVariable>
									<SetVariable>
										<Destination>t_watchdog</Destination>
										<Source>MaxWatchdog</Source>
									</SetVariable>
								</SetVariables>
							</Action>
							<Informations2>
								<Information>
									<Type>Output</Type>
									<Value Param0="t_watchdog" Param1="SafeParaSize" Param2="t_safePara">Watchdog: {0} ms, SafeParaSize: {1}, Safe Parameter {2}</Value>
								</Information>
							</Informations2>
						</TestStep>
						<TestStep Name="GotoData" Delay="t_watchdog+1">
							<Action>
								<CallFunction>
									<Reference>RUN_DUT_TO_PROCESSDATA</Reference>
								</CallFunction>
							</Action>
							<Informations2>
								<Information>
									<Type>Output</Type>
									<Value Param0="t_watchdog">Wait for: {0} + 1 ms</Value>
								</Information>
							</Informations2>
						</TestStep>
						<TestStep Name="CheckReceivedSlaveFrame">
							<Action>
								<CallFunction>
									<Reference>CHECK_RESET_FAIL_WO_WD</Reference>
								</CallFunction>
							</Action>
							<ReturnValue>
								<OnSuccess>
									<Type>Success</Type>
									<Value Param0="c_CommFaultReason">Expected CommFaultReason ({0}) received</Value>
								</OnSuccess>
							</ReturnValue>
						</TestStep>
					</TestSteps>
				</TestCase>
				<TestCase Name="#5.49 Data_Ok_MAX_SeqNo" CaseId="55">
					<Description>
						<Purpose>The overflow of the slave sequence number shall be forced.</Purpose>
						<PreCondition>-DuT is in Data with FailSafeData command
-the slave sequence number is greater than 1</PreCondition>
						<Action>-run the DuT to Data
-check if the slave sequence nunmber is 1 again</Action>
						<PostCondition>-the DuT shall execute 0xFFFF+1 cycles</PostCondition>
						<References>
							<Reference Chapter="Slave state machine DATA_OK" Specification="ETG5100"/>
							<Reference Chapter="FSoE Slave Test Case 5.49" Specification="ETG7100"/>
						</References>
						<Mandatory>true</Mandatory>
					</Description>
					<CaseVariables>
						<Variable>
							<Name>c_tmpByte</Name>
							<Type>Byte</Type>
						</Variable>
						<Variable>
							<Name>c_maxSeqNo</Name>
							<Type>UInt16</Type>
						</Variable>
					</CaseVariables>
					<TestSteps>
						<TestStep Name="SetMaxSeqNo">
							<Action>
								<SetVariables>
									<SetVariable>
										<Destination>c_tmpByte</Destination>
										<Source>0</Source>
									</SetVariable>
									<SetVariable>
										<Destination>c_maxSeqNo</Destination>
										<Source>1</Source>
									</SetVariable>
								</SetVariables>
							</Action>
						</TestStep>
						<TestStep Name="SetConnectionData">
							<Action>
								<SetVariables>
									<SetVariable>
										<Destination>t_connectionId</Destination>
										<Source>3</Source>
									</SetVariable>
									<SetVariable>
										<Destination DestinationIndex="0">t_connData</Destination>
										<Source>t_connectionId</Source>
									</SetVariable>
									<SetVariable>
										<Destination DestinationIndex="2">t_connData</Destination>
										<Source>ConnData.SlaveAddress</Source>
									</SetVariable>
								</SetVariables>
							</Action>
							<Informations2>
								<Information>
									<Type>Output</Type>
									<Value Param0="t_connectionId" Param1="ConnData.SlaveAddress" Param2="t_connData">ConnectionId: {0} (0x{0:x4}), Slave Address: {1} (0x{1:x4}), Connection Data {2}</Value>
								</Information>
							</Informations2>
						</TestStep>
						<TestStep Name="SetParameterData">
							<Action>
								<SetVariables>
									<SetVariable>
										<Destination>t_safePara</Destination>
										<Source>SafePara</Source>
									</SetVariable>
									<SetVariable>
										<Destination>t_watchdog</Destination>
										<Source>SafePara.Watchdog</Source>
									</SetVariable>
								</SetVariables>
							</Action>
							<Informations2>
								<Information>
									<Type>Output</Type>
									<Value Param0="t_watchdog" Param1="SafeParaSize" Param2="t_safePara">Watchdog: {0} ms, SafeParaSize: {1}, Safe Parameter {2}</Value>
								</Information>
							</Informations2>
						</TestStep>
						<TestStep Name="GoToParameter">
							<Action>
								<CallFunction>
									<Reference>RUN_DUT_TO_PARAMETER</Reference>
								</CallFunction>
							</Action>
						</TestStep>
						<TestStep Name="SetDataCmd">
							<Action>
								<SetVariables>
									<SetVariable>
										<Destination>DataCommand</Destination>
										<Source>ProcessData</Source>
									</SetVariable>
								</SetVariables>
							</Action>
						</TestStep>
						<TestStep Name="CallParaOk">
							<Action>
								<CallFunction>
									<Reference>PARA_OK</Reference>
								</CallFunction>
							</Action>
						</TestStep>
						<TestStep Name="ReceiveEvent">
							<Event>
								<ReceiveFrame>t_slaveFrame</ReceiveFrame>
							</Event>
						</TestStep>
						<TestStep Name="CheckWatchdog">
							<Event>
								<WatchdogExpired>
									<Return>
										<Type>Error</Type>
										<Value Param0="ElapsedWD">Watchdog expired!  {0} ms</Value>
										<Id>5</Id>
									</Return>
								</WatchdogExpired>
							</Event>
						</TestStep>
						<TestStep Name="CheckReceivedCrc">
							<Action>
								<IsCrcCorrect ReturnValue="crcCorrect">
									<Frame>t_slaveFrame</Frame>
									<LastCrc>LastCrc</LastCrc>
									<SequenceNo>t_slaveSeqNo</SequenceNo>
									<OldCrc>t_oldSlaveCrc</OldCrc>
									<New>true</New>
								</IsCrcCorrect>
							</Action>
							<ReturnValue>
								<OnFailure>
									<Type>Error</Type>
									<Value Param0="t_slaveFrame.Crc0">Invalid Crc0 reveived ({0:x})</Value>
									<Id>4</Id>
								</OnFailure>
							</ReturnValue>
						</TestStep>
						<TestStep Name="CheckDataCondition">
							<Compares>
								<Compare>
									<Condition>
										<Value1>t_slaveSeqNo</Value1>
										<Operator>Equal</Operator>
										<Value2>c_maxSeqNo</Value2>
									</Condition>
									<Statement>
										<Return>
											<Type>Success</Type>
											<Value Param0="c_maxSeqNo">SlaveSeqNo = {0}</Value>
										</Return>
									</Statement>
								</Compare>
								<Compare>
									<Condition>
										<Value1>t_slaveFrame.Command</Value1>
										<Operator>Equal</Operator>
										<Value2>ProcessData</Value2>
									</Condition>
									<Condition>
										<Value1>t_slaveFrame.ConnId</Value1>
										<Operator>Equal</Operator>
										<Value2>t_connectionId</Value2>
									</Condition>
									<Condition>
										<Value1>crcCorrect</Value1>
										<Operator>Equal</Operator>
										<Value2>true</Value2>
									</Condition>
									<Statement>
										<CallFunction>DATA_OK1_WO_MSG</CallFunction>
									</Statement>
									<Statement>
										<GotoStep>ReceiveEvent</GotoStep>
									</Statement>
								</Compare>
								<Compare>
									<Condition>
										<Value1>t_slaveFrame.Command</Value1>
										<Operator>Equal</Operator>
										<Value2>FailSafeData</Value2>
									</Condition>
									<Condition>
										<Value1>t_slaveFrame.ConnId</Value1>
										<Operator>Equal</Operator>
										<Value2>t_connectionId</Value2>
									</Condition>
									<Condition>
										<Value1>crcCorrect</Value1>
										<Operator>Equal</Operator>
										<Value2>true</Value2>
									</Condition>
									<Statement>
										<CallFunction>DATA_OK2_WO_MSG</CallFunction>
									</Statement>
									<Statement>
										<GotoStep>ReceiveEvent</GotoStep>
									</Statement>
								</Compare>
								<Compare>
									<Condition>
										<Value1>t_slaveFrame.Command</Value1>
										<Operator>Equal</Operator>
										<Value2>ProcessData</Value2>
									</Condition>
									<Condition>
										<Value1>t_slaveFrame.ConnId</Value1>
										<Operator>Equal</Operator>
										<Value2>t_connectionId</Value2>
									</Condition>
									<Condition>
										<Value1>crcCorrect</Value1>
										<Operator>Equal</Operator>
										<Value2>false</Value2>
									</Condition>
									<Statement>
										<Return>
											<Type>Error</Type>
											<Value>Invalid Crc received</Value>
											<Id>4</Id>
										</Return>
									</Statement>
								</Compare>
								<Compare>
									<Condition>
										<Value1>t_slaveFrame.Command</Value1>
										<Operator>Equal</Operator>
										<Value2>ProcessData</Value2>
									</Condition>
									<Condition>
										<Value1>t_slaveFrame.ConnId</Value1>
										<Operator>NotEqual</Operator>
										<Value2>t_connectionId</Value2>
									</Condition>
									<Statement>
										<Return>
											<Type>Error</Type>
											<Value>Invalid Connection Id received</Value>
											<Id>3</Id>
										</Return>
									</Statement>
								</Compare>
								<Compare>
									<Condition>
										<Value1>t_slaveFrame.Command</Value1>
										<Operator>Equal</Operator>
										<Value2>FailSafeData</Value2>
									</Condition>
									<Condition>
										<Value1>t_slaveFrame.ConnId</Value1>
										<Operator>NotEqual</Operator>
										<Value2>t_connectionId</Value2>
									</Condition>
									<Statement>
										<Return>
											<Type>Error</Type>
											<Value>Invalid Connection Id received||Back to Reset</Value>
										</Return>
									</Statement>
								</Compare>
								<Compare>
									<Condition>
										<Value1>t_slaveFrame.Command</Value1>
										<Operator>Equal</Operator>
										<Value2>Reset</Value2>
									</Condition>
									<Statement>
										<CallFunction>GET_COMM_FAULT_REASON</CallFunction>
									</Statement>
									<Statement>
										<Return>
											<Type>Error</Type>
											<Value Param0="t_commFaultReason">Reset Cmd received , CommFaultReason: {0}</Value>
										</Return>
									</Statement>
								</Compare>
								<Compare>
									<Condition>
										<Value1>t_slaveFrame.Command</Value1>
										<Operator>Equal</Operator>
										<Value2>Session</Value2>
									</Condition>
									<Statement>
										<Return>
											<Type>Error</Type>
											<Value>Invalid Session Cmd received</Value>
										</Return>
									</Statement>
								</Compare>
								<Compare>
									<Condition>
										<Value1>t_slaveFrame.Command</Value1>
										<Operator>Equal</Operator>
										<Value2>Connection</Value2>
									</Condition>
									<Statement>
										<Return>
											<Type>Error</Type>
											<Value>Invalid Connection Cmd received</Value>
										</Return>
									</Statement>
								</Compare>
								<Compare>
									<Condition>
										<Value1>t_slaveFrame.Command</Value1>
										<Operator>Equal</Operator>
										<Value2>Parameter</Value2>
									</Condition>
									<Statement>
										<Return>
											<Type>Error</Type>
											<Value>Invalid Parameter Cmd received</Value>
										</Return>
									</Statement>
								</Compare>
								<Compare>
									<Condition>
										<Value1>t_slaveFrame.Command</Value1>
										<Operator>NotEqual</Operator>
										<Value2>Reset</Value2>
									</Condition>
									<Condition>
										<Value1>t_slaveFrame.Command</Value1>
										<Operator>NotEqual</Operator>
										<Value2>Session</Value2>
									</Condition>
									<Condition>
										<Value1>t_slaveFrame.Command</Value1>
										<Operator>NotEqual</Operator>
										<Value2>Connection</Value2>
									</Condition>
									<Condition>
										<Value1>t_slaveFrame.Command</Value1>
										<Operator>NotEqual</Operator>
										<Value2>Parameter</Value2>
									</Condition>
									<Condition>
										<Value1>t_slaveFrame.Command</Value1>
										<Operator>NotEqual</Operator>
										<Value2>ProcessData</Value2>
									</Condition>
									<Condition>
										<Value1>t_slaveFrame.Command</Value1>
										<Operator>NotEqual</Operator>
										<Value2>FailSafeData</Value2>
									</Condition>
									<Statement>
										<Return>
											<Type>Error</Type>
											<Value>Unknown CMD received</Value>
											<Id>2</Id>
										</Return>
									</Statement>
								</Compare>
								<Compare>
									<Condition>
										<Value1>1</Value1>
										<Operator>Equal</Operator>
										<Value2>1</Value2>
									</Condition>
									<Statement>
										<Return>
											<Type>Error</Type>
											<Value>General state machine error!</Value>
										</Return>
									</Statement>
								</Compare>
							</Compares>
						</TestStep>
					</TestSteps>
				</TestCase>
			</TestCases>
		</TestGroup>
	</TestGroups>
</FSoETest>
